<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>独行深山</title>
    <description>去创造点什么而不是依靠别人活着</description>
    <link>https://wangxuan.me//</link>
    <atom:link href="https://wangxuan.me/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Fri, 03 Jan 2025 01:10:13 -0600</pubDate>
    <lastBuildDate>Fri, 03 Jan 2025 01:10:13 -0600</lastBuildDate>
    <generator>Jekyll v4.2.2</generator>
    
      <item>
        <title>蹲一个结果</title>
        <description>&lt;p&gt;&lt;img src=&quot;/assets/images/20991231/wait.jpeg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;蹲一个结果&quot;&gt;蹲一个结果&lt;/h1&gt;
&lt;ul class=&quot;task-list&quot;&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;2024-12-09 &lt;a href=&quot;https://weibo.com/1644114654/P3zMHcZDR?refer_flag=1001030103_&quot;&gt;#哥伦比亚一机库发现约2万具尸体#&lt;/a&gt;
#哥伦比亚大量人口失踪后无从寻觅#【#哥伦比亚发现2万具尸体的机场称不知情#】12月5日，联合国强迫失踪问题委员会称哥伦比亚首都机场一机库里发现约2万具尸体，目前哥伦比亚总检察长办公室正在埃尔多拉多机场进行调查。委员会表示这些尸体应该是无处安放的不明身份者遗体，被保存在机库里。委员会称，哥伦比亚过去存在着与强迫招募未成年人、人口贩运有关的失踪等案例，造成大量人口失踪后无从寻觅。埃尔多拉多机场发表声明称对此事不知情，正在等待官方说明&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://weibo.com/1499104401/P3yxI6W8k?refer_flag=1001030103_&quot;&gt;【联合国强迫失踪问题委员会：#哥伦比亚一机库发现约2万具尸体#】&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;总台记者当地时间12月5日获悉，联合国强迫失踪问题委员会（CED）在完成对哥伦比亚的访问后，公布了一份调查报告。报告显示，在哥伦比亚首都波哥大埃尔多拉多国际机场的一个机库里发现约2万具身份不明的尸体。&lt;/p&gt;

&lt;p&gt;目前，哥伦比亚总检察长办公室正在埃尔多拉多机场进行调查。&lt;/p&gt;

&lt;p&gt;联合国强迫失踪问题委员会表示，这些尸体应该是无处安放的不明身份者遗体，被保存在机库里。委员会表示，哥伦比亚过去存在着与强迫招募未成年人、人口贩运、土地冲突有关的失踪、流离失所和移民失踪的案例，造成大量人口失踪后无从寻觅。&lt;/p&gt;

&lt;p&gt;目前委员会正在与哥伦比亚政府展开合作调查，相关报告将于2025年3月17日至4月4日在日内瓦举行的会议上由委员会全体会议讨论。&lt;/p&gt;

&lt;p&gt;当天，埃尔多拉多机场发表声明称对此事不知情，正在等待官方说明。&lt;/p&gt;

&lt;p&gt;据央视新闻此前消息，哥伦比亚移民局当地时间7月9日宣布，一艘搭乘着18名非法移民的船只于当天下午在加勒比海的圣安德烈斯岛附近海域沉没，造成1人死亡，9人失踪，其余8人获救。&lt;/p&gt;

&lt;p&gt;移民局表示，接到报警后，哥伦比亚海岸警卫队快速反应部队在空军一架飞机的支持下，部署了搜救行动。8名获救者中包括6名未成年人。&lt;/p&gt;

&lt;p&gt;另据央视总台环球资讯广播此前消息，当地时间2024年3月26日，国际移民组织发布的一份报告显示，过去十年内，该组织记录到超过6.3万名移民在通过非正规渠道移民途中死亡或失踪。&lt;/p&gt;

&lt;p&gt;该报告同时指出，这一数字可能只是冰山一角。&lt;/p&gt;

&lt;p&gt;根据报告，近60%死者为溺水死亡；取道地中海前往欧洲中途遇难的人数最多，超过2.8万；此外，还有数以千计的人死于其他路线，例如大西洋海域、墨西哥与美国边境地区等。&lt;/p&gt;

&lt;p&gt;在查明身份的遇难移民中，三分之一来自战乱国家或地区，包括叙利亚和阿富汗。&lt;/p&gt;

&lt;ul class=&quot;task-list&quot;&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;
    &lt;p&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; checked=&quot;checked&quot; /&gt;2024-07-22 &lt;a href=&quot;https://weibo.com/5428681933/OoCxprEpN&quot;&gt;人民大学女博士王迪被导师王贵元性骚扰&lt;/a&gt;&lt;br /&gt;
【#人大通报王某某性骚扰#：举报情况属实】针对 7月21日晚网上关于中国人民大学教师王某某涉嫌师德失范行为的举报信息，@中国人民大学 通报：举报情况属实。#人大王某某被解聘#
经研究决定，给予王某某开除党籍处分，撤销教授职称，取消研究生指导教师资格，撤销其中国人民大学教师岗位任职资格，解除聘用关系。同时，报请上级教育行政部门撤销其教师资格，并将问题线索依法反映给有关机关。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;
    &lt;p&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; checked=&quot;checked&quot; /&gt;2024-07-15 &lt;a href=&quot;https://weibo.com/ttarticle/p/show?id=2309405051606889791919&quot;&gt;罐车运输乱象调查：卸完煤制油直接装运食用大豆油&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://weibo.com/2803301701/OmMCNgiZN&quot;&gt;#国务院食安办回应油罐车用油乱象#&lt;/a&gt;&lt;br /&gt;
【国务院食安办通报对媒体反映的“罐车运输食用植物油乱象问题”调查处置情况】&lt;a href=&quot;https://m.weibo.cn/status/5071349265467971&quot;&gt;https://m.weibo.cn/status/5071349265467971&lt;/a&gt;
对河北邢台卓然联合运输车队法定代表人倪某某、河北邢台皓源物流有限公司法定代表人澹台某某、河北邢台金谷仓物流有限公司法定代表人陈某某，罐车冀E5476W实际车主高某群、罐车冀E6365Z实际车主刘某某等5人依法查处，对构成犯罪的移送公安机关依法追究刑事责任。
公安机关对涉事司机要某某、张某某，依法刑事立案并采取刑事强制措施。
对参与开具罐车清洗虚假票据的河北邢台金谷仓物流有限公司负责人孙某某、河北石家庄民通汽车服务有限公司负责人胡某某、罐车冀E5476W实际车主的三哥高某修等3人，依法处以10日拘留的行政处罚。
依法对涉事7家企业给予行政处罚：&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;对河北邢台卓然联合运输车队，依法收缴道路运输经营许可，处罚没款合计约168万元；&lt;br /&gt;
对河北邢台皓源物流有限公司，依法收缴道路运输经营许可，处罚没款合计约151万元；&lt;br /&gt;
对河北邢台金谷仓物流有限公司，依法处罚没款合计约192万元；&lt;br /&gt;
对陕西勉县新力油脂有限公司，依法给予警告，没收违法所得约30万元；&lt;br /&gt;
对内蒙古鄂尔多斯市东胜区百胜隆粮油有限公司，依法给予警告，没收违法所得约26万元；&lt;br /&gt;
对中储粮油脂（天津）有限公司依法处罚款约286万元；&lt;br /&gt;
对河北三河汇福粮油集团精炼植物油有限公司依法处罚款约251万元。&lt;br /&gt;
涉事地区河北邢台是问题罐车所在地，对罐车运输失管失察，市政府分管负责同志负有领导责任，相关监管部门人员负有责任，由地方纪检监察机关依法依规追责问责。对调查过程中地方发现的公职人员可能存在的失职渎职不作为问题，由当地纪检监察机关介入调查。&lt;/p&gt;

&lt;ul class=&quot;task-list&quot;&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;
    &lt;p&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;2024-07-15 &lt;a href=&quot;https://baike.baidu.com/item/5%C2%B722%E5%85%A8%E6%A4%92%E5%8E%BF%E6%BB%81%E6%B2%B3%E6%B0%B4%E6%B1%A1%E6%9F%93%E4%BA%8B%E4%BB%B6/64487765&quot;&gt;5·22全椒县滁河水污染事件&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;
    &lt;p&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; checked=&quot;checked&quot; /&gt;2024-07-15 &lt;a href=&quot;https://weibo.com/1642634100/OjZSUFkra&quot;&gt;#姜萍明日参加阿里全球数学竞赛决赛#&lt;/a&gt;&lt;br /&gt;
据阿里巴巴达摩院DAMO官方微信公众号发布消息，2024年阿里巴巴全球数学竞赛决赛将于6月22日举行。决赛形式为线上个人闭卷赛。决赛分为五个赛道，选手可任选一个赛道。独立阅卷组分赛道阅卷，再交叉复审、核验。每个赛道将评出金奖1名、银奖2名、铜奖4名以及优秀奖10名。&lt;strong&gt;获奖名单将于8月公布&lt;/strong&gt;。
2024-11-03 #姜萍全球数学竞赛成绩违反规则# #姜萍数学竞赛系老师提供帮助#【初赛成绩违反规则 “姜萍事件”调查结果公布】#阿里巴巴全球数学竞赛获奖名单公布# 阿里巴巴全球数学竞赛组委会3日发布情况说明称，阿里巴巴全球数学竞赛获奖名单已正式发布，共有86名选手获奖，其中金奖5名，银奖10名，铜奖20名，优秀奖51名。我们对各位获奖选手表示祝贺，并衷心感谢大家对本届竞赛的关注和支持。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;在本届竞赛中，江苏省涟水中等专业学校教师王某某和其指导的学生入围决赛，引发社会关注。根据决赛阅卷结果，二人未获奖。据调查了解，王某某在预选赛中对其指导的学生提供帮助，违反了预选赛关于“禁止与他人讨论”的规则。这也暴露出竞赛赛制不够完善、管理不够严谨等问题。对此，我们表示诚挚的歉意！&lt;/p&gt;

&lt;p&gt;阿里巴巴全球数学竞赛作为一项旨在为数学爱好者提供交流平台的民间赛事，组委会将认真听取各方的批评和建议，吸取教训，优化规则，让竞赛活动更加规范。欢迎社会各界继续关心、支持和监督。http://t.cn/A6nXTkPm（来源：央视新闻客户端）&lt;/p&gt;
</description>
        <pubDate>Thu, 31 Dec 2099 00:00:00 -0600</pubDate>
        <link>https://wangxuan.me/discuss/2099/12/31/wait-for-the-result.html</link>
        <guid isPermaLink="true">https://wangxuan.me/discuss/2099/12/31/wait-for-the-result.html</guid>
        
        <category>社会热点</category>
        
        
        <category>Discuss</category>
        
      </item>
    
      <item>
        <title>置身事内笔记</title>
        <description>&lt;h2 id=&quot;上篇-微观机制&quot;&gt;上篇 微观机制&lt;/h2&gt;

&lt;h3 id=&quot;第一章-地方政府的权力与事务&quot;&gt;第一章 地方政府的权力与事务&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;党负责重大决策和人事任免，政府负责执行，但二者在组织上紧密交织、人员上高度重叠，很难严格区分。&lt;br /&gt;
在复杂的行政体系中，权力高度分散在各部门，往往没有清晰的法律界限，所以一旦涉及跨部门或跨地区事务，办起来就比较复杂，常常理不清头绪，甚至面对相互矛盾的信息。部门之间也存在互相扯皮的问题，某件事只要有一个部门反对，就不容易办成。&lt;br /&gt;
所有规章制度都必须由人来执行和运作。同样的制度在不同的人手中，效果可能完全不同，所以无论是国家还是公司，人事制度都是组织机构的核心。我国是世界上第一个发展出完善、专业、复杂的官僚体系的国家。&lt;br /&gt;
实际的权力运作与纸面的规章制度并不完全一致，但也绝不是任性随意的。在任何体制下，权力运作都受到两种约束：做事的能力及做事的意愿。前者取决于掌握的资源，后者取决于各方的积极性和主动性。&lt;br /&gt;
其中《地广第十六》中就有关于国土扩张的辩论，反对方说：“秦之用兵，可谓极矣，蒙恬斥境，可谓远矣。今踰蒙恬之塞，立郡县寇虏之地，地弥远而民滋劳……张骞通殊远，纳无用，府库之藏，流于外国……”意思是边远之地物产没什么用，人也野蛮，而且那么远，制度也不容易实施，实在没必要扩张。这些话颇有道理，支持方不易反驳，于是就开始了人身攻击。(&lt;br /&gt;
如果一方想做的事，另一方既有意愿也有能力做好，就叫激励相容。政府内部不仅要求上下级间激励相容，也要求工作目标和官员自身利益之间激励相容。&lt;br /&gt;
工商工作与所在地区密不可分，但因为垂直管理，当地政府对工商系统的监督和约束都没有力度。在一系列事故尤其是2008年震动全国的“毒奶粉”事件之后，2011年中央再次改革，恢复省级以下工商部门的地方政府分级管理体制，经费和编制由地方负担，干部升迁改为地方与上级工商部门双重管理，以地方管理为主。(30)2018年机构改革后，工商局并入市场监督管理局，由地方政府分级管理。&lt;br /&gt;
能评价和奖惩工作业绩的上级，能决定工作内容的上级，受下级工作影响最大的上级，应该尽量是同一上级。&lt;br /&gt;
了事权划分的三大原则：公共服务的规模经济、信息复杂性、激励相容。&lt;br /&gt;
从公共服务覆盖范围角度看，不同人对公共服务的评价不同，享受该服务的代价不同，所以要划分不同的行政区域。从信息复杂性角度看，掌握不同信息的人，看法和判断不同，要把决策权交给占据信息优势的一方。从激励相容角度看，上下级的目标和能力不同，所以要设立有效的机制去激励下级完成上级的目标。&lt;br /&gt;
不能脱离政府来谈经济，是理解中国经济的基本出发点。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;第二章-财税与政府行为&quot;&gt;第二章 财税与政府行为&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;这段人身攻击有些名气，大约是古今中外某些当权者辱骂知识分子的通用套路，大意如下：你智商要真高，怎么做不了官？你财商要真高，怎么那么穷？你们不过是些夸夸其谈之辈，地位不高还爱质疑上司，穷成那样还说富人的坏话，样子清高实则卑鄙，妄发议论，哗众取宠。俸禄吃不饱，家里没余粮，破衣烂衫，也配谈论朝堂大事？何况拓边打仗之事呢！（原文为：“挟管仲之智者，非为厮役之使也。怀陶朱之虑者，不居贫困之处。文学能言而不能行，居下而讪上，处贫而非富，大言而不从，高厉而行卑，诽誉訾议，以要名采善于当世。夫禄不过秉握者，不足以言治，家不满檐石者，不足以计事。儒皆贫羸，衣冠不完，安知国家之政，县官之事乎？何斗辟造阳也！”）&lt;br /&gt;
要想把握政府的真实意图和动向，不能光读文件，还要看政府资金的流向和数量，所以财政从来不是一个纯粹的经济问题。&lt;br /&gt;
地方政府尤其青睐重资产的制造业，一是因为投资规模&lt;br /&gt;
投资规模大，对GDP的拉动作用明显；二是因为增值税在生产环节征收，跟生产规模直接挂钩；三是因为制造业不仅可以吸纳从农业部门转移出的低技能劳动力，也可以带动第三产业发展，增加相关税收。因为绝大多数税收征收自企业，且多在生产环节征收，所以地方政府重视企业而相对轻视民生，重视生产而相对轻视消费。&lt;br /&gt;
之和），但因为增值税在生产环节征收，所以地方政府更加关心企业所在地而不是消费者所在地。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;第三章-政府投融资与债务&quot;&gt;第三章 政府投融资与债务&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;一方面继续低价供应大量工业用地，招商引资；另一方面限制商住用地供给，从不断攀升的地价中赚取土地垄断收益。&lt;br /&gt;
土地资本化的魔力，在于可以挣脱物理属性，在抽象的意义上交易承诺和希望，将过去的储蓄、现在的收入、未来的前途，统统汇聚和封存在一小片土地上，使其价值暴增。由此产生的能量不亚于科技进步，支撑起了工业化和城市化的巨大投资。经济发展的奥秘之一，正是把有形资产转变成为这种抽象资本，从而聚合跨越空间和时间的资源。(&lt;br /&gt;
我国政府不但拥有城市土地，也掌控着金融系统，自然会以各种方式参与实业投资，不可能置身事外。但实业投资不是买卖股票，不能随时退出，且投资过程往往不可逆：未能完成或未能正常运转的项目，前期的投入可能血本无归。所以政府一旦下场就很难抽身，常常不得不深度干预。&lt;br /&gt;
法律规定，地方政府不能从银行贷款，2015年之前也不允许发行债券，所以政府要想借钱投资，需要成立专门的公司。(2)这类公司大都是国有独资企业，一般统称为“地方政府融资平台”。这个名称突出了其融资和负债功能，所以经济学家和财经媒体在谈及这些公司时，总是和地方债务联系在一起。但这些公司的正式名称可不是“融资平台”，而大都有“建设投资”或“投资开发”等字样，突出自身的投资功能，因此也常被统称为“城投公司”。比如芜湖建设投资有限公司（奇瑞汽车大股东）和上海城市建设投资开发总公司（即上海城投集团），都是当地国资委的全资公司。还有一些公司专门开发旅游景点，名称中一般有“旅游发展”字样，比如成都文化旅游发展集团，也是成都市政府的全资公司，&lt;br /&gt;
开发过著名景点“宽窄巷子”。&lt;br /&gt;
所谓“隐性”，是因为《担保法》规定政府不能为融资平台提供担保。但其实政府不断为融资平台注入各类资产，市场自然认为这些公司不会破产，政府不会“见死不救”，所以风险很低。&lt;br /&gt;
按照法律，政府不能和企业直接分享税收，但可以购买企业服务，以产业发展服务费的名义来支付约定的分成。&lt;br /&gt;
短短三五年，地方政府就积累了天量债务。直到十年后的今天，这些债务依然没有完全化解，还存在不小的风险。&lt;br /&gt;
有位招商业绩不错的干部分享心得：“要对招商机会有敏感度，要做一个执着的跟踪者，不能轻言放弃。要在招商中锻炼自己，做到‘铜头、铁嘴、顺风耳、橡皮腰、茶壶肚、兔子腿’。”铜头，是指敢闯、敢创造机会；铁嘴，是指能说会道，不怕磨破嘴皮；顺风耳和兔子腿，指消息灵通且行动敏捷；茶壶肚，指能喝酒、能社交。这些形容非常形象，容易理解。我当时不太懂什么是“橡皮腰”，后来听他解释：“要尊重客商，身段该软的时候要能弯得下腰，但在谈判过程中也不能随便让步，若涉及本市重要利益，该把腰挺起来的时候也要挺直了。”这些特点让我联想到了推销员。他接下来讲的话又让我想到了客服：“要关注礼仪，注重细节，做到四条。第一，要信守承诺；第二，要记得回电话，客商的电话、信息要及时回复；第三，遇到事情用最快的速度、最高的效率去处理；第四，要做个有心人，拜访客商要提前做好准备工作。”&lt;br /&gt;
从经济发展的角度看，我国的腐败现象有两个显著特点。第一，腐败与经济高速增长长期并存。这与“腐败危害经济”这一过度简单化的主流观念冲突，以腐败为由唱空中国经济的预测屡屡落空。第二，随着改革的深入，政府和市场间关系在不断变化，腐败形式也在不断变化。20世纪80年代的腐败案件大多与价格双轨制下的“官倒”和各种“投机倒把”有关；90年代的案件则多与国企改革和国有资产流失有关；21世纪以来，与土地开发相关的案件成了主流。(&lt;br /&gt;
要理解腐败和经济发展之间的关系，关键是要理解不同腐败类型的不同影响。腐败大概可以分为两类。第一类是“掠夺式”腐败，比如对私营企业敲诈勒索、向老百姓索贿、盗用挪用公款等，这类腐败对经济增长和产权保护极其有害。&lt;br /&gt;
第二类腐败是“官商勾连共同发财式”腐败。&lt;br /&gt;
但从经济长期健康发展来看，这类腐败会带来四大恶果。其一，长期偏重投资导致经济结构扭曲，资本收入占比高而劳动收入占比低，老百姓收入和消费增长速度偏慢。&lt;br /&gt;
其二，扭曲&lt;br /&gt;
投资和信贷资源配置，把大量资金浪费在效益不高的关系户项目上，推升债务负担和风险。&lt;br /&gt;
其三，权钱交易扩大了贫富差距。&lt;br /&gt;
其四，地方上可能形成利益集团，不仅可能限制市场竞争，也可能破坏政治生态，出现大面积的“塌方式腐败”。&lt;br /&gt;
美国在19世纪末和20世纪初的所谓“镀金年代”中，各类腐败现象也非常猖獗，“裙带关系”愈演愈烈，经济腐化政治，政治又反过来腐化经济，形成了所谓的“系统性腐败”（systematiccorruption）。之后经过了数十年的政治&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;第四章-工业化中的政府角色&quot;&gt;第四章 工业化中的政府角色&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;和法治建设，才逐步缓解。(&lt;br /&gt;
大陆花了近20年才让彩电工业价值链的95%实现了本土化，但由于没跟上液晶显示的技术变迁，一夜之间价值链的80%又需要依赖进口。(3)而主要的面板厂商都在日韩和中国台湾，他们常常联手操纵价格和供货量。2001年至2006年，三星、LG、奇美、友达、中华映管、瀚宇彩晶等六家主要企业，在韩国和中国台湾召开了共计53次“晶体会议”，协商作价和联合操纵市场，使得液晶面板一度占到电视机总成本的八成。2013年，发改委依照《价格法》（案发时候还没有《反垄断法》，后者自2008年起施行）中操纵市场价格的条款，罚了这六家企业3.5亿元。欧美也对如此恶劣的价格操纵行为做了处罚：欧盟罚了他们6.5亿欧元，美国罚了他们13亿美元。(&lt;br /&gt;
想借助财力雄厚的深圳市政府的投资，在当地建设6代线。但信息流出后，日本夏普开始游说深圳市政府，提出甩开技术落后的京东方，帮深圳建设一条投资280亿元的7.5代线。由于夏普的技术和经验远胜京东方，深圳市政府于是在2007年与夏普签署合作协议，京东方出局，“聚龙计划”流产。但仅一个多月之后，夏普就终止了与深圳的合作。当时上海的上广电（上海广电信息产业股份有限公司）也计划和京东方在昆山合作建设一条6代线，但夏普再次上门搅局，提出与上广电合作，将京东方踢出局。随后不久，夏普再次找借口退出了与上广电的合作。&lt;br /&gt;
地方政府投资平台既可以参与京东方股票定向增发来扩充其资本金，也可以用土地使用权收益入股。在鄂尔多斯生产线的建设过程中，地方政府甚至拿出了10亿吨煤矿的开采权。此外，地方城投公司也可以委托当地银行向京东方提供低息甚至免息委托贷款。比如在北京亦庄8.5代线的建设过程中，亦庄开发区的全资公司亦庄国投就曾委托北京银行向京东方贷款2亿元，年利率仅为0.01%。(10)再比如，2015年京东方在成都高新区建设新的产线，高新区管委会的全资公司成都高投就先后向京东方提供委托贷款44亿元，年利率为4.95%，但所有利息都由高新区政府全额补贴。(备注-第四章工业化中的政府角色&amp;gt;位置1798&lt;br /&gt;
举全国之力来支持京东方&lt;br /&gt;
行政手段造成的扭曲往往只有行政力量才能破解，但这并不意味着政府就一定该帮助国内企业进入某个行业，关键还要看国内市场规模。在一个只有几百万人口的小国，政府若投资和补贴国内企业，这些企业无法利用国内市场的规模经济来降低成本，必须依赖出口，那政府的投入实际上是在补贴外国消费者。但在我国，使用液晶屏幕的很多终端产品比如电视和手机，其全球最大的消费市场就在国内，所以液晶显示产业的外溢性极强。若本国企业能以更低的价格生产（不一定非要有技术优势，能够拉低国际厂商的漫天要价也可以），政府就可以考虑扶持本国企业进入，这不仅能打破国际市场的扭曲和垄断，还可以降低国内下游产业的成本，促进其发展。(&lt;br /&gt;
工业化”最核心的一环是把农民变成工人，这不仅仅是工作的转变，也是思想观念和生活习惯的彻底转变。这个转变不会自动发生，需要学习和培训，而这种学习和培训只能在工厂中完成。&lt;br /&gt;
“重复投资”的第二个好处是加剧竞争。蜂拥而上的低水平产能让“价格战”成为我国很多产品的竞争常态。备注-第四章工业化中的政府角色&amp;gt;位置2053&lt;br /&gt;
把缺点说成优点，丧事喜办，传统艺能&lt;br /&gt;
股份公司在注册时默认是永续经营的，但私募基金却有固定存续期，一般是7—10年。在此期限内，基金要经历募资、投资、管理、退出等四个阶段（统称“募投管退”），到期后必须按照合伙协议分钱和散伙。(&lt;br /&gt;
政府的钱以“股权”形式进入还未上市的企业之后，如果有一天企业上市，这些“国有股份”怎么办？要不要按照规定在IPO（首次公开募股）时将10%的股份划转给社保基金？(54)如果要划转，那无论是地方政府还是其他政府出资人，恐怕都不愿意。因此，为提高国有资本从事创业投资的积极性，2010年财政部等部门规定：符合条件的国有创投机构和国有创投引导基金，可在IPO时申请豁免国有股&lt;br /&gt;
2006年新修订的《公司法》开始实施，正式把发起人股和风投基金持股区别对待。上市后发起人股仍实行3年禁售，但风投基金的禁售期可缩短至12个月，拓宽了退出渠道。同年，证监会以部门规章的形式确立了IPO的审核标准。(&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;第五章-城市化与不平衡&quot;&gt;第五章 城市化与不平衡&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;其中《大国重器》《超级工程》《创新中国》《大国工匠》《军工记忆》下篇宏观现象&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;下篇-宏观现象&quot;&gt;下篇 宏观现象&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;发展。中国特有的城市土地国有制度，为政府垄断土地一级市场创造了条件，将这笔隐匿的财富变成了启动城市化的巨大资本，但也让地方财源高度依赖土地价值，依赖房地产&lt;br /&gt;
城市化的真正核心：人。地价要靠房价拉动，但房价要由老百姓买单，按揭要靠买房者的收入来还。所以土地的资本化，实质是个人收入的资本化。&lt;br /&gt;
中国对建设用地指标实行严格管理，每年的新增指标由中央分配到省，再由省分配到地方。这些指标无法跨省交易，&lt;br /&gt;
2020年，中央提出要对建设用地指标的跨区域流转进行改革，探索建立全国性建设用地指标跨区域交易机制（&lt;br /&gt;
根据中国人民银行的这项调查，城镇居民2019年的负债中有76%是房贷。而从资产端看，城镇居民的主要财产也就是房子。房产占了家庭资产的近七成，其中&lt;br /&gt;
六成是住房，一成是商铺。而在美国居民的财富中，72%是金融资产，房产占比不到28%。(15)中国人财富的压舱石是房子，美国人财富的压舱石是金融资产。这个重大差别可以帮助理解两国的一些基本政策，比如中国对房市的重视以及美国对股市的重视。&lt;br /&gt;
2014—2017年间，我国收入最低的50%的人储蓄基本为零甚至为负（入不敷出）。(&lt;br /&gt;
2015年起，信用卡、蚂蚁花呗、京东白条等各种个人消费贷激增。根据中国人民银行关于支付体系运行情况的数据，2016—2018年这三年，银行信用卡和借记卡内合计的应偿还信贷余额年均增幅接近30%。&lt;br /&gt;
2020年，随着蚂蚁金服上市被叫停，各种讨论年轻人“纵欲式消费”的文章在社交媒体上讨论热烈，都与消费类债务急升的大背景有关。这种依靠借债的消费无法持续，因为钱都被花掉了，没有形成未来更高的收入，债务负担只会越来越重。&lt;br /&gt;
首先，我国住房按揭首付比例一般高达30%，而不像美国在金融危机前可以为零，所以银行风险小。除非房价暴跌幅度超过首付比例，否则居民不会违约按揭，损失掉自己的首付。2018年末，我国个人住房贷款的不良率仅为0.3%。(21)其次，住房按揭形成的信贷资产，没有被层层嵌套金融衍生品，在金融体系中来回翻滚，规模和风险被放大几十倍。2019年末，我国住房按揭资产证券（RMBS）总量占按揭贷款的总量约3%，而美国这个比率为63%，这还不算基于这种证券的各种衍生产品。(备注-第五章城市化与不平衡&amp;gt;位置2624&lt;br /&gt;
中国的烂尾风险没有提及&lt;br /&gt;
同年，《土地管理法》修正案通过，首次在法律上确认了集体经营性建设用地使用权可以直接向市场中的用地者出让、出租或作价出资入股，不再需要先行征收为国有土地。农村集体经营性用地与城市国有建设用地从此拥有了同等权能，可以同等入市，同权同价，城市政府对土地供应的垄断被打破了。所谓“集体经营性建设用地”，只是农村集体建设用地的一部分，并不包括宅基地，后者的面积占集体建设用地的一半。&lt;br /&gt;
一国之内，产品的流动和市场化最终会带来生产要素的流动和市场化。农产品可以自由买卖，农民可以进城打工，农村土地的使用权最终也该自主转让。人为限定城市土地可以转让而集体土地不能转让，用户籍把人分为三六九等，除非走计划经济的回头路，否则难以持久。就算不谈权利和价值观，随着市场化改革的深入，这些限定性的制度所带来的扭曲也会越来越严重，代价会高到不可维持，比如留守儿童、留守妇女、留守老人所带来的巨大社会问题。&lt;br /&gt;
要实现地区间人均收入均衡、缩小贫富差距，关键也在人。要真正帮助低收入群体，就要增加他们的流动性和选择权，帮他们离开穷地方，去往能为他的劳动提供更高报酬的地方，让他的人力资本更有价值。同时也要允许农民所拥有的土地流动，这些土地资产才会变得更有价值。&lt;br /&gt;
但对“80后”和“90后”来说，父母的财富和资源对子女收入的影响就大了。(36)原因之一是财富差距在其父母一代中就扩大了，财产性收入占收入的比重也扩大了，其中最重要的是房产。在一二线城市，房价的涨幅远远超过了收入涨幅。(37)房产等有形财产与人力资本不同。人力资本无法在代际之间不打折扣地传承，但房产和存款却可以。&lt;br /&gt;
累积的财富差距一般远大于每年的收入差距，因为有财富的人往往更容易积累财富，资产回报更高，可选择的投资方式以及应对风险的手段也更多。&lt;br /&gt;
当经济增速放缓、新创造的机会变少之后，年轻人间的竞争会更加激烈，而其父母的财富优势会变得更加重要。如果“拼爹”现象越来越严重的话，社会对不平等的容忍程度便会下降，不安定因素会增加。&lt;br /&gt;
影响不平等容忍程度的因素有很多，其中最重要的是经济增速，因为经济增速下降首先冲击的是穷人收入。不妨想象正在排队的两队人，富人队伍前进得比穷人快，但穷人队伍也在不停前进，所以排队的穷人相对来说比较有耐心。但如果穷人的队伍完全静止不动，哪怕富人队伍的前进速度也减慢了，困在原地的穷人也会很快&lt;br /&gt;
很快失去耐心而骚动起来。这种现象被称为“隧道效应”（tunneleffect），形容隧道中两条车道一动一静时，静的那条的焦虑和难耐。(&lt;br /&gt;
另一个影响不平等容忍度的因素是人群的相似性。&lt;br /&gt;
但如果贫富差距中参杂了人种、肤色、种姓等因素，那人们感受就不一样了。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;第六章-债务与风险&quot;&gt;第六章 债务与风险&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;并没有什么神秘的经济力量会自动降低收入不平等，“先富带动后富”也不会自然发生，而需要政策的干预。不断扩大的不平等会让社会付出沉重的代价，必须小心谨慎地对待。(&lt;br /&gt;
以按揭为例，穷人因为收入低，买房借债的负担也重，房价一旦下跌，需要先承担损失，直到承担不起破产了，损失才转到银行及其债主或股东，后者往往是更富的人。换句话说，债务常常把风险集中到承受能力最弱的穷人身上。&lt;br /&gt;
在大多数国家，还不起房贷的人可以宣布破产，银行把房子收走，也就两清了。但在西班牙，哪怕房主把房子给了银行并宣布破产，也只能免于偿还按揭利息，本金仍然要偿还，否则累计的罚金和负债将一直存在，会上失信名单，很难正常生活。在金融危机中，这项法律引起了社会的不满和动荡，开锁匠和警察拒绝配合银行驱逐房主。&lt;br /&gt;
然而在全球金融危机前的几十年，美国国内企业的投资不增反降，政府每年的赤字和借债也相对稳定，所以富人的储蓄实际上就是借给了其他居民（穷人），变成了他们的债务。穷人借债主要是买房，因此富人的余钱也就通过银行等金融中介流向了房地产。&lt;br /&gt;
所以大量投资进入了所谓的“无形资产”和服务业，而服务业更依赖于人的集聚，也就推升了对特定地段的住房和社交空间（即各类商业地产）的需求。(22)&lt;br /&gt;
银行可以卖给老百姓一个理财产品，利息5%，再把筹来的钱委托给信托公司，让信托公司把钱借给房企。在这笔“银信合作”业务中，发行的理财产品不算银行储蓄，委托给信托公司的投资不算银行贷款，所以这笔“表外业务”就绕开了对银行的监管，是一种“影子银行”业务。&lt;br /&gt;
但只要这些债务以本国货币计价，理论上央行可以无限印钱，想接手多少就接手多少。这种做法不一定会推高通货膨胀，因为其他经济部门受债务所困，有了钱都在还债，没有增加支出，也就没给物价造成压力。欧美日在2008年全球金融危机之后都搞了大规模“量化宽松”，都没有出现通货膨胀。&lt;br /&gt;
逻辑。这一体系在过去的经济增长中发挥过很大作用，但如果投资主体不变，权力不下放给市场，那想要构建降低政府和银行风险的直接融资体系、想让分散的投资者去承担风险，就不符合“谁决策谁担风险”的逻辑，自然进展缓慢。&lt;br /&gt;
产能过剩可以从三个角度去理解。第一是生产效率下降。宏观上表现为GDP增速放缓，低于债务增速，所以宏观债务负担加重。微观上表现为地方政府过度投资、不断为一些“僵尸企业”输血，扭曲了资源配置，加重了政府和企业的债务负担。&lt;br /&gt;
第二个角度是国际失衡。地方政府重视投资、生产和企业税收，相对忽视消费、民生和居民收入，造成经济结构失衡，分配体制偏向资本，劳动收入偏低，所以消费不足，必须向国外输出剩余产能。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;第七章-国内国际失衡&quot;&gt;第七章 国内国际失衡&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;第三个角度是产业升级。因为产能过剩，我国制造业竞争激烈，价格和成本不断降低，不仅冲击了外国的中低端制造业，也冲击了本国同行。&lt;br /&gt;
消费占GDP的比重下降时，无非就是两种情况：或者GDP中可供老百姓支配的收入份额下降了，或者老百姓把更大一部分收入存了起来，&lt;br /&gt;
地方招商引资和投融资模式，这是一个“重企业、重生产、重规模、重资产”的模式。&lt;br /&gt;
时期的粮食“统购统销”、工农业产品价格“剪刀差”等，都是把剩余资源从农业向工业转移。&lt;br /&gt;
制造业生产率低的国家，生产率进步确实快，而制造业生产率高的国家，进步也的确慢。(14)可见制造业的学习效应极强，是后发国家赶超的基石。久而久之，后发国家的制造业生产率就有机会与先进国家“趋同”。那为什么经济整体却没有“趋同”呢？最关键的原因，是很多国家无法组织和动员更多资源投入制造业，无法有效启动和持续推进工业化进程。&lt;br /&gt;
金融危机后，美国消费支出降低，同时美国国内的页岩油气革命彻底改变了其天然气和石油依赖进口的局面，而转为世界上最重要的油气生产国和出口国，油气的国际价格因此大跌，既降低了美国国际收支的逆差，也降低了中东地区国际收支的顺差。2017年，中国超过加拿大，成为美国原油最大的进口国。(18)&lt;br /&gt;
首先是制造业增加值。1997年，我国制造业增加值只相当于美国的0.14，但2010年就超过了美国，2018年已经相当于美国的1.76倍。其次是技术，衡量指标是国际专利的申请数量，数据来自世界知识产权组织（WIPO）的“专利合作条约”（PCT）系统。自1978年该系统运作以来，美国在2019年首次失去了世界第一的位置，被中国超越。再次是更加基础的科学，衡量指标是国际高水平论文的发表数量，即“自然指数”（NatureIndex）。这项指数只包括各学科中国际公认的82本高质量学报上发表的论文，从中计算各国作者所占比例。2012年，我国的数量只相当于美国的0.24，略高于德国和日本，但2019年已经达到了美国的0.66，相当于德国的3倍，日本的4.4倍。&lt;br /&gt;
吴下阿蒙，&lt;br /&gt;
而按照目前的科学论文增长率，2025年左右中国就可能超过美国（&lt;br /&gt;
苹果公司每年都会公布前200家供应商名单，这些公司占了苹果公司原材料、制造和组装金额的98%。在2019年版的名单中，中国大陆和香港的企业一共有40家，其中大陆企业30家，包括多家上市公司。(27)在A股市场上，早有所谓的“果链概念”，包括制造iPhone后盖的蓝思科技、摄像头模组的欧菲光、发声单元的歌尔股份、电池的德赛电池等上市公司。&lt;br /&gt;
但从国内外一些“拆机报告”中估计的各种零部件价格看，中国（含香港）企业应该贡献了iPhone硬件价值的两成左右。&lt;br /&gt;
毕竟我国在基础科研质量、科技成果转化效率等方面，还有很长的路要走，而美国要想在全球再找一个巨大的市场，也是天方夜谭。没有了市场，美国公司持续不断的高额研发支出很难持续，也就难以长久维持技术优势。同时，技术高压虽然可能让我国企业在短期内受挫，但很多相对落后的国产技术也因此获得了市场机会，可能提高市场份额和收入，进而增大研发力度，进入“市场—研发—迭代—更大市场”的良性循环，最终实现国产替代。但这一切的前提，是我国国内市场确实能继续壮大，国民消费能继续提升，&lt;br /&gt;
要提高居民收入，就要继续推进城市化，让人口向城市尤其是大城市集聚。&lt;br /&gt;
从目前的技术发展和发达国家的经验看，制造业的进一步发展吸纳不了更多就业。产业链全球化之后，标准化程度越来越高，大多数操作工序都由机器完成。比较高端的制造业，资本密集度极高，自动化车间里没有几个工人。&lt;br /&gt;
所以解决就业和提高收入必须依靠服务业的大发展，而这只能发生在人口密集的城市中。&lt;br /&gt;
要提高居民收入和消费，就要把更多资源从政府和企业手中转移出来，分配给居民。&lt;br /&gt;
其一，加大民生支出，能改变“重土地、轻人”的城市化模式，让&lt;br /&gt;
其二，加大民生支出，可以限制地方政府用于投资的生产性支出。&lt;br /&gt;
其三，推进国内大循环要求提升技术，攻克各类“卡脖子”的关键环节。而科技进步最核心的要素是“人”。因此地方政府加大教育、医疗等方面的民生支出，正是对“人力资本”的投资，长远看有利于科技进步和经济发展。&lt;br /&gt;
四，加大民生支出，遏制投资冲动，还可能降低地方政府对“土地财政”和“土地金融”发展模式的依赖，限制其利用土地加大杠杆，撬动信贷资源，降低对土地价格的依赖，有利于稳定房价，防止居民债务负担进一步加重而侵蚀消费（第五章）。要提高居民收入，还要扩宽居民的财产性收入，发展各种直接融资渠道，让更多人有机会分享经济增长的果实，这就涉及金融体系和资本市场的改革。&lt;br /&gt;
人民币从长期看还会继续升值，扩大进口可以增加老百姓的实际购买力，扩大消费选择，提升生活水平，也能继续增强我国市场在国际上的吸引力。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;第八章-总结政府与经济发展&quot;&gt;第八章 总结政府与经济发展&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;ChinaReconnects:JoiningaDeep-rootedPasttoaNewWorldOrder（&lt;br /&gt;
国家越富裕，政府在国民经济中所占的比重也往往越大，而不是越小，这一现象也被称为“瓦格纳法则”。&lt;br /&gt;
经济富裕、社会安定、政府得力是国家繁荣的三大支柱，缺一不可。(&lt;br /&gt;
掌握大量资源并可以自主行动的地方政府，协调和控制能力强的中央政府，以及人力资本雄厚和组织完善的官僚体系。这三大“制度禀赋”源自我国特殊的历史，不是每个国家都有的。&lt;br /&gt;
与主要研究成熟市场的新古典经济学相比，研究发展过程的经济学还包括两大特殊议题，一是发展顺序，二是发展节奏。&lt;br /&gt;
无论如何，经济学的主要作用仍是发现和提出问题，而解决问题的具体方案只能在实践中摸索和产生。&lt;br /&gt;
英国史学家艾伦的《全球经济史》（2015），乔治梅森大学戈德斯通的《为什么是欧洲？世界史视角下的西方崛起》（2010），哈佛大学弗里登的《20世纪全球资本主义的兴衰》（&lt;br /&gt;
看到《经济落后的历史透视》（格申克龙，2012）和《大转型：我们时代的政治与经济起源》（波兰尼，2020）的影子。结束语&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;结束语&quot;&gt;结束语&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;虽然见过的问题和麻烦可以再写几本书，但经历和见闻让我对中国悲观不起来。我可以用很多理论来分析和阐述这种乐观，但从根本上讲，我的乐观并不需要这些头头是道的逻辑支撑，它就是一种朴素的信念：相信中国会更好。这种信念不是源于学术训练，而是源于司马迁、杜甫、苏轼，源于“一条大河波浪宽”，源于对中国人勤奋实干的钦佩。&lt;br /&gt;
了。我是个经济学家，基于专业训练的朴素信念也有一个：生活过得好一点，比大多数宏伟更宏伟。&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        <pubDate>Fri, 03 Jan 2025 00:00:00 -0600</pubDate>
        <link>https://wangxuan.me/notes/2025/01/03/notes-of-Immersed-in-the-Matter.html</link>
        <guid isPermaLink="true">https://wangxuan.me/notes/2025/01/03/notes-of-Immersed-in-the-Matter.html</guid>
        
        <category>置身事内</category>
        
        
        <category>Notes</category>
        
      </item>
    
      <item>
        <title>陶渊明诗两首</title>
        <description>&lt;p&gt;最近在看李一冰的《苏东坡新传》，70多万字，可算得上是煌煌巨著。有人说看不下去，可能苏东坡在我心里有偶像光环，我一直都看得兴趣盎然。让我想起高中时，在被窝里看林语堂版《苏东坡传》的日子，那本还是繁体字竖排版。我看书很慢，这本看了一个多月还没看完，看到苏东坡和陶渊明诗那段觉得有点意思。&lt;/p&gt;

&lt;p&gt;陶渊明是苏轼中年以后最喜欢的诗人，杜甫李白都得往后稍稍。陶诗可能是苏轼以后才引起人们的广泛研究，而陶渊明可谓是开辟田园赛道的第一人，李子柒华农兄弟来了也得尊称一句祖师爷。那么，什么是田园赛道，为什么大家都喜欢田园？显而易见，与诸多规章制度束缚的打工生活相比，宽松自由的田园生活谁不喜欢呢？但是谁能真的能像陶渊明一样抛开一切回归田园呢？就像苏轼读陶渊明的诗，打工人看田园赛道主播的视频，用幻想解解馋而已。而陶渊明为什么可以如此潇洒，他是不是真的潇洒？&lt;/p&gt;

&lt;p&gt;饮酒 十九&lt;br /&gt;
畴昔苦长饥，投来去学仕。&lt;br /&gt;
将养不得节，冻馁固缠己。&lt;br /&gt;
是时向立年，志意多所耻。&lt;br /&gt;
遂尽介然分，终死归田里。&lt;br /&gt;
冉冉星气流，亭亭复一纪。&lt;br /&gt;
世路廓悠悠，杨朱所以止。&lt;br /&gt;
虽无挥金事，浊酒聊可恃。&lt;/p&gt;

&lt;p&gt;第五句“遂尽介然分，终死归田里。”还有另一个版本是：“遂尽介然分，拂衣归田里。”不知道你觉得哪个版本好。终死归田里，似乎是下了决心，决绝地回归田园，死也不回来；而拂衣归田里，倒是多了几分潇洒。&lt;br /&gt;
“世路廓悠悠，杨朱所以止。”从这句可以看出，即使归田多年陶渊明心里还是有几分迷惘的。试问走在人生路上又有几个人不迷惘？实际上，陶归田里，谈不上决绝，也谈不上潇洒，只是遵从自己的内心，当时当下做出的选择。&lt;/p&gt;

&lt;p&gt;乞食&lt;br /&gt;
饥来驱我去，不知竟何之。&lt;br /&gt;
行行至斯里，叩门拙言辞。&lt;br /&gt;
主人解余意，遗赠岂虚来。&lt;br /&gt;
谈谐终日夕，觞至辄倾杯。&lt;br /&gt;
情欣新知欢，言咏遂赋诗。&lt;br /&gt;
感子漂母惠，愧我非韩才。&lt;br /&gt;
衔戢知何谢，冥报以相贻。&lt;/p&gt;

&lt;p&gt;兄弟们，看到了吗？陶渊明不仅走田园赛道，和美国的“金牌讲师”一样，他还出门要饭…不仅要饭，还写诗记录下来：兄弟们，今天又要到饭了。&lt;/p&gt;

&lt;p&gt;试想一下，如果李子柒下期视频是出门要饭，你会作何感想？田园还美好吗？&lt;/p&gt;

&lt;p&gt;王维就挺看不上陶渊明这套，笑他。&lt;/p&gt;

&lt;p&gt;要我说，虽然同在田园赛道，王维的格局还是小了，枉费了“诗佛”的称号。佛门弟子出门化斋，说白了不也是要饭吗？这有什么好笑的？&lt;br /&gt;
就像苏轼说的：“陶渊明欲仕则仕，不以求之为嫌；欲隐则隐，不以去之为高。饥则扣门而乞食，饱则鸡黍以迎客。古今贤之，贵其真也。”&lt;br /&gt;
你看看，你看看，这才是田园赛道的精髓。从心所欲，老子想做官就做官，想要饭就要饭。陶渊明牛逼的地方就在于不给自己的生活上滤镜，不只说田园生活的悠然，他也讲乡野生活的窘迫。&lt;/p&gt;

&lt;p&gt;不只是田园赛道，哪个赛道都有两面，不要看到好的地方就大肆渲染，不好的地方就闭口不谈。像陶渊明那样，不加滤镜坦然生活，直面闲适也不回避落魄，他热爱的是这生活的本身。&lt;/p&gt;
</description>
        <pubDate>Fri, 27 Dec 2024 00:00:00 -0600</pubDate>
        <link>https://wangxuan.me/discuss/2024/12/27/Tow-poems-of-Tao-Yuanming.html</link>
        <guid isPermaLink="true">https://wangxuan.me/discuss/2024/12/27/Tow-poems-of-Tao-Yuanming.html</guid>
        
        <category>陶渊明</category>
        
        
        <category>Discuss</category>
        
      </item>
    
      <item>
        <title>kindle笔记转成markdown</title>
        <description>&lt;p&gt;你喜欢看书吗？你平常看书，看纸质书，还是电子书？你看书的时候做笔记吗？&lt;/p&gt;

&lt;p&gt;从少年时代起，我就一直挺喜欢看书，直到现在也喜欢在睡觉之前看会书。很长时间以来，我都是看纸质书，很少看电子书，我没有专门看电子书的设备，只偶尔在手机上看。直到去年用老婆的kindle看了罗杰•克劳利的《地中海史诗三部曲》，那是我第一次看电子版的长篇。感觉还挺不错。前几天老婆给我买了个掌阅ocean4turbo，现在我也有了自己的电子阅读器了，可以预见，我以后看的电子书将会超过纸质书。&lt;/p&gt;

&lt;p&gt;我从小就没有做笔记的习惯，不光看书，哪怕是上课也从来不记笔记。中小学课堂上的内容其实很少，不需要记笔记，脑子也能记住，哪怕记不住，很多东西老师也会反复讲。但是大学以后，课堂上讲的内容指数级增长，不记笔记很难记住，但是那时的我没有意识到问题，盲目自信，继续头铁不记笔记，导致每次期末感觉啥都没学啥都没记住，都要靠突击才能通过考试…毕业多年后，我恍惚意识到自己的问题，但为时已晚。关于读书笔记，我也坚持一种观点：书只管看就行了，不用刻意记笔记，让大脑自然去过滤，看的时候让你有感触有共鸣的句子，你自然会回头多看几遍，看完一本书，你记住的部分就是这本书最精华的部分。但后来，可能是记忆力衰退了，我发现这方法不太管用了，看过的书也很快忘了，过段时间再翻，感觉自己在看一本新书，看过了就和没看过一样…我终于承认：读书还是得记笔记。&lt;/p&gt;

&lt;p&gt;像钱钟书李敖那样，抄书剪书做卡片做分类的读书笔记方法，我不知道具体是如何做的，也不知道适不适合咱们普通人，毕竟人家是学者这些是人家的工作，他们不会嫌费时费力。现在是信息时代，我们应该有自己的方法，可能效率更高，而且更便于检索。&lt;br /&gt;
我曾经用豆瓣读书做笔记，看纸质书的时候，看到好的地方就拿手机拍照，编辑一下划下红线，传到笔记里。像这样：
&lt;img src=&quot;/assets/images/20241113/1.png&quot; alt=&quot;&quot; /&gt;
但图片是不便于检索的。
后来豆瓣也升级了，拍的照片可以文字识别，不用保存图片可以直接保存文字了。
&lt;img src=&quot;/assets/images/20241113/2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这些都是保存在豆瓣上的，想看的时候要到豆瓣上找，而且搜起来很困难，豆瓣的搜索功能是出了名的差。我曾经一度把读书笔记当微博发，加个标签，搜索起来也方便。&lt;/p&gt;

&lt;p&gt;但这些都是权益之计，既然我以后可能都主要看电子书了，一定有更好的办法。&lt;/p&gt;

&lt;p&gt;你别说，还真是。用过kindle和微信读书的一定都会觉得这玩意做笔记太方便了。最厉害的是，笔记还可以导出来，kindle导出的是html，微信读书是能直接复制出txt。我其实更喜欢kindle一点。虽然kindle退出中国，但国际版还能正常使用，它导出的笔记是这样的：
&lt;img src=&quot;/assets/images/20241113/3.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;我想或许可以把html转成markdown，放到github上，我的博客里，归档起来，检索也方便。于是我问了下AI：
&lt;img src=&quot;/assets/images/20241113/4.png&quot; alt=&quot;&quot; /&gt;
AI好是好，但是很多情况下不能直接解决问题，虽然有了它得帮助会方便很多，但最终还是得自己动手。
于是我用python写了一版：&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;bs4&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BeautifulSoup&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;pc_note&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;笔记本.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;soup&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BeautifulSoup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;html.parser&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# print(soup.prettify())
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;heads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;soup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;h2&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;h3&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pre_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pre_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;&apos;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;notes.md&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;w&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;heads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;h2&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;%s%s&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;## &apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()))&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;h3&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;# children = head.find_all(recursive=False)
&lt;/span&gt;                &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;div&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;class_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;noteText&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;head_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;head_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;position_start&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;位置&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;位置 &apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position_start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:])&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;# 删除空格
&lt;/span&gt;                &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;# 删除重复
&lt;/span&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pre_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;# 位置贴近的部分不换行
&lt;/span&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pre_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;pre_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;pre_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;startswith&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;标注&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;# 原文划线内容
&lt;/span&gt;                    &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&amp;gt; %s  &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;startswith&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;备注&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;#  笔记内容
&lt;/span&gt;                    &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;%s &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;kindle笔记有几个问题：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;复制出的文字很多空格&lt;/li&gt;
  &lt;li&gt;跨页划线的部分会有几个字重复&lt;/li&gt;
  &lt;li&gt;PC 导出的html格式有问题&lt;/li&gt;
  &lt;li&gt;PC 和 手机端导出的html标签不一致&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;前两个问题在程序里很容易解决，上面的脚本已经解决了。hmtl格式不一致需要做下调整，不能通过&amp;lt;h2&amp;gt;&amp;lt;h3&amp;gt;标签来取元素，要通过class来取，于是调整了一下，让PC和手机端导出的都可以直接用：&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mobile_note&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;笔记本.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;soup&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BeautifulSoup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;html.parser&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;target_elements&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;soup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;.sectionHeading, .noteHeading, .noteText&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;text_type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;原文&apos;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pre_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cur_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;pre_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;&apos;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;notes1.md&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;w&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target_elements&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;class&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;sectionHeading&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;%s%s&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;## &apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()))&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;noteHeading&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;# print(element.get_text())
&lt;/span&gt;                &lt;span class=&quot;n&quot;&gt;inner_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;&apos;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;child&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;# 如果子节点是字符串类型（即文本），则将其添加到h3_text字符串中
&lt;/span&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;isinstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;child&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;inner_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;child&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos; &apos;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inner_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;startswith&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;标注&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;text_type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;原文&apos;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;text_type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;笔记&apos;&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;position_start&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inner_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;位置&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;位置 &apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;cur_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inner_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position_start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:])&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cur_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;pre_pos:%s cur_pos:%s&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pre_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cur_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cur_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pre_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                 &lt;span class=&quot;c1&quot;&gt;# 删除空格
&lt;/span&gt;                &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;c1&quot;&gt;# 删除重复
&lt;/span&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pre_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt;

                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;text_type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;原文&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;# 原文划线内容
&lt;/span&gt;                    &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&amp;gt; %s  &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;c1&quot;&gt;#  笔记内容
&lt;/span&gt;                    &lt;span class=&quot;n&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;%s &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;pre_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cur_pos&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;pre_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;note_text&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;我用上面这个脚本把笔记转成markdown放到了我的博客里&lt;a href=&quot;https://wangxuan.me/notes/2024/11/12/Think-Fast-and-Slow.html&quot;&gt;https://wangxuan.me/notes/2024/11/12/Think-Fast-and-Slow.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;效果还行，我挺满意。如果用兴趣你也可以试试，有什么问题欢迎留言跟我讨论。&lt;/p&gt;

&lt;p&gt;最后，分享一下国际版的kindle apk安装包，关注“魔域桃源”公众号&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/wechat.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;在聊天框里发送:kindle&lt;/p&gt;
</description>
        <pubDate>Wed, 13 Nov 2024 00:00:00 -0600</pubDate>
        <link>https://wangxuan.me/tech/2024/11/13/kindle-notes-to-markdown.html</link>
        <guid isPermaLink="true">https://wangxuan.me/tech/2024/11/13/kindle-notes-to-markdown.html</guid>
        
        <category>python</category>
        
        
        <category>Tech</category>
        
      </item>
    
      <item>
        <title>思考快与慢读书笔记</title>
        <description>&lt;h2 id=&quot;第3章-惰性思维与延迟满足的矛盾&quot;&gt;第3章 惰性思维与延迟满足的矛盾&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;聪明不仅是指推理的能力，也指在记忆中搜寻相关信息和在必要时调动注意力的能力。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;每个阶段40分钟，他们让4~6岁的孩子去玩不同种类的电脑游戏，这些游戏是为检验注意力和控制力而专门设计的。在其中一项游戏中，孩子们要在尽量避开一块泥泞区域的同时，用一个操纵杆将一只卡通猫驱赶到一个长满草的地方。长草的地方会慢慢变少，而泥泞的地方会慢慢扩大，这就需要孩子们不断提高控制的精确度。测试者发现，注意力训练不仅提升了这些孩子的执行控制能力，而且他们在智力测验中的笔试成绩也提高了，并且这种提升的状态可以维持几个月不变。同一个小组所作的其他研究确认了参与了注意力控制的具体基因，表明家长的教育方法也会影响这种能力，研究还证明了，儿童控制其注意力的能力和控制其情感的能力之间有着紧密的联系。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第4章-联想的神奇力量&quot;&gt;第4章 联想的神奇力量&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;在1748年出版的《人类理解研究》（AnEnquiryConcerningHumanUnderstanding）一书中，苏格兰哲学家大卫·休谟（DavidHume）将联想的原则缩减为三个：相似性、时空相接以及因果关系。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;有些文化常常提醒人们尊重他人，另外一些文化则常让人们想起上帝，还有一些国家的人们会对着伟大领袖的照片顶礼膜拜。在一个专制国家中，到处挂着领袖的肖像不仅能向你传达“老大哥在看着你”①的感觉，还会使你逐渐丧失自主的思想和独立的行为能力。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第5章-你的直觉有可能只是错觉&quot;&gt;第5章 你的直觉有可能只是错觉&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;这些建议总的原则是，任何缓解认知紧张的做法都会对你有所帮助，所以，你首先应该让字迹更清晰。&lt;br /&gt;
其次，你的信息应该印刷在质量较好的纸上，并且文字和背景间的反差要达到极致。如果你使用彩色字体的话，亮蓝或大红的文字会比绿、黄、灰蓝等色调更容易让人相信文字内容的真实性。如果你很在意自己在别人眼里是否值得信赖、是否聪明睿智，那么说话时就言简意赅吧，能用简单句的时候就别用复杂句。&lt;br /&gt;
除了应该保持消息简洁外，还应使其易于记忆。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;这种只要不断重复接触就能增加喜欢程度的现象，是一个极其重要的生理现象，可推及所有动物身上。&lt;br /&gt;
扎伊翁茨的一个助手给处于孵化状态的鸡蛋放不同的音乐，随后，孵化出来的小鸡在听见孵化期间所听到的音乐时，发出的哀鸣要少得多。扎伊翁茨为他的研究项目作了一个很有说服力的总结：重复曝光的结果有益于机体适应其所处的有生命和无生命的环境。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;胎教&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;当人们心情好时，直觉和创造力会增强，但也会放松警惕，易犯逻辑性错误，&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第7章-字母b与数字13&quot;&gt;第7章 字母“B”与数字“13”&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;喜爱（或讨厌）某个人就会喜爱（或讨厌）这个人的全部—包括你还没有观察到的方面—这种倾向就叫做光环效应。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;顺序的确很重要，因为光环效应注重第一印象，而后续信息在很大程度上都被消解掉了。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;只掌握一方证据的受试者比掌握了双方证据的受试者更有自信。&lt;br /&gt;
·过于自信：&lt;br /&gt;
·框架效应：&lt;br /&gt;
·比率忽略：&lt;br /&gt;
“他们看了一份优质的咨询报告后就作了一个重大决定，&lt;br /&gt;
他们并没意识到自己掌握的信息其实很少。”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第8章-我们究竟是如何作出判断的&quot;&gt;第8章 我们究竟是如何作出判断的？&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;“评价一个人是否有吸引力是一种基本判断，不管你是否想这样做，这种评价都是不由自主进行的，也会对你产生影响。”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第10章-大数法则与小数定律&quot;&gt;第10章 大数法则与小数定律&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;（1）大样本比小样本更精确。（2）小样本比大样本产生极端结果的概率大。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;你关注更多的是新闻本身，而不是其结果的可信度。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;我们不应关注当前事件的成因，而应当关注其未来走向。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;狮子可能随时都会出现在平原上，但注意到狮子出现频率的明显增长并采取行动则会安全许多，即使这种增长只是由于随机过程的波动而发生的。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;空军中队不断有人员损失，没有必要再给他们增加额外的负担，让他们觉得那些去世的伙伴做错了什么。&lt;br /&gt;
投篮顺手”是一个影响深远的认知错觉。&lt;br /&gt;
简单说来，如果你听从自己的直觉，就常常会因为把随机事件看做是有规律的事件而犯错。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第16章-因果关系比统计学信息更具说服力&quot;&gt;第16章 因果关系比统计学信息更具说服力&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;用贝叶斯定理估计出的概率是41%，这说明与目击者确信出租车为蓝色的概率相比，绿色出租车&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第18章-如何让直觉性预测更恰当有效&quot;&gt;第18章 如何让直觉性预测更恰当有效？&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;一个部门要雇用一位年轻的教授，他们希望这位教授未来的学术能力能够达到最高水平。该部门的调查委员会最后将候选人圈定为两个：金最近完成&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;如何评价一个人&lt;/p&gt;

&lt;h2 id=&quot;第19章-知道的错觉&quot;&gt;第19章 “知道”的错觉&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;他在自己的著作《黑天鹅》中，引入了“叙事谬误”的概念，用来描述存有缺憾的往事是如何影响我们的世界观和我们对未来的预期的。&lt;br /&gt;
指出，我们人类常会为过去的憾事编造牵强的解释，并信以为真，以此来蒙蔽自己。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;为了想清楚未来，我们需要清除自己过去曾经用来表明信念的语言。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;人们不仅会高估自己最初的预测，还会高估其他人作出的预测。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第20章-未来是不可预测的&quot;&gt;第20章 未来是不可预测的&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;专家的政治判断：有多好？我们如何得知？》（ExpertPoliticalJudgment：HowGoodIsIt？HowCanWeKnow？）&lt;br /&gt;
那些花时间以研究某一特别课题为生的人作出的预测还不如扔飞盘的猴子预测得准确，&lt;br /&gt;
泰特罗克发现预言者名气越大，他们的预言就越夸张，&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第21章-直觉判断与公式运算孰优孰劣&quot;&gt;第21章 直觉判断与公式运算，孰优孰劣？&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;不要简单地相信直觉判断—无论是你自己的还是他人的—但也不要完全抛开它。&lt;br /&gt;
如果真的想选择最合适的人选，那么你应该这样做：首先，选择一些这个岗位要求的先决条件（比如技能熟练程度、个性稳重程度、可靠性等）。不要列太多，6个左右即可。这些条件最好相对独立，同时要保证你通过一个问题就能够对这几个条件进行评估。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第22章-什么时候可以相信专家的直觉&quot;&gt;第22章 什么时候可以相信专家的直觉？&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;在一个不可预知的环境下声称自己有正确的直觉至少也会被称做自我妄想，&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第24章-乐观主义是一柄双刃剑&quot;&gt;第24章 乐观主义是一柄双刃剑&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;总的来说，个人发明的回报很小，要“低于私募基金和高风险证券的回报“。一般说来，个体经营的财务收益属于中等：同等条件下，人们通过向雇主出售自己的技能得到的平均回报要比经营自己的企业更高。这表明乐观主义是普遍、执拗且代价昂贵的。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;大型企业的财务主管对股票市场的短期走向一无所知，他们估测出的值与真实值的相关系数接近零！&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;杜鲁门总统就曾发表过著名的言论，说他想找一个立场明确的“独臂经济学家”（one-armedeconomist），他对那些总是说“另一只手……”的经济学家烦透了。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第25章-事关风险与财富的抉择&quot;&gt;第25章 事关风险与财富的抉择&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;财富的边际价值递减现象（&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第27章-禀赋效应与市场交易&quot;&gt;第27章 禀赋效应与市场交易&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;(禀赋效应是指当个人一旦拥有某个物品，那么他对该物品价值的评价要比未拥有之前大大提高。—&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;第一，人们的偏好并不是一成不变的，它们会随着参照点发生变化。第二，改变的不利之处比有利之处更突出，其有利之处包括对倾向于现状的偏见。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;大脑记录还表明以特别低的价格购买商品是件令人愉快的事。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;穷人对获得和放弃之间的区别很在意。他们的问题在于，他们只能在不同的损失之间作出选择。花在某件商品上的钱对于本来可以购买的另外一件商品而言就是损失。对于穷人来说，花钱就意味着损失。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第28章-公平性经济交易的参照点&quot;&gt;第28章 公平性—经济交易的参照点&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;经济逻辑表明，计程车司机应该在下雨天多干几个小时，晴天时则要多休息，因为晴天时能以较低价格“买”到轻松闲暇。损失厌恶背后的逻辑却正相反：每天有固定目标的司机会在客人少的日子多干几个小时，在浑身湿透的客人巴望打到车的日子&lt;br /&gt;
里，他们也早早回到家里。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第29章-对结果可能性的权衡&quot;&gt;第29章 对结果可能性的权衡&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;心理价值中去了。在伯努利理论中，打赌的效用是其结果&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第30章-被过分关注的罕见事件&quot;&gt;第30章 被过分关注的罕见事件&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;当前景得到明确描述时（例如“有99%的概率赢得1000美元，1%的概率什么也得不到”），注意力就一定会分散。过多关注（耶路撒冷的大巴）、生动的画面（玫瑰花）、具体的表述（1000中的1个），以及明确的提醒（以描述为基础作出选择）都是引起过高权衡的原因。&lt;br /&gt;
“这是我们都熟悉的灾难循环，即先是言过其实，之后作出过高权衡，最后忽视此事件。”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第31章-能带来长远收益的风险政策&quot;&gt;第31章 能带来长远收益的风险政策&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;时刻关注每日的经济波动是种亏本的对策，因为频繁的低额损失带来的痛苦比同样频率的低额收益带来的快乐程度更为强烈。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第32章-心理账户是如何影响我们的选择的&quot;&gt;第32章 心理账户是如何影响我们的选择的？&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;人们对由于不采取行动而导致的结果，会比因行动而产生的结果有更为强烈的情绪反应（包括后悔）。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;使用这个与众不同的治疗手段的医生可能会面对极度的悔恨、严厉的责备，还可能被人起诉。以后见之明来看，医生很容易想到常规的选择，总是希望自己没有作非常规的选择。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;与前文矛盾吗？&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;因为成功通常是比失败更为正常的结果。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;什么意思？&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;我个人躲避后见之明的方法是：在做有长远影响的决策&lt;br /&gt;
之时，不要太过周密，但也不要完全凭偶然行事。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第33章-评估结果的逆转&quot;&gt;第33章 评估结果的逆转&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;如果你是该赌注的持有者，你最低会以多少钱卖掉它？&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;什么意思？&lt;/p&gt;

&lt;h2 id=&quot;第34章-善用框架效应让生活更美好&quot;&gt;第34章 善用框架效应，让生活更美好&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;当结果是正面的时候，决策制定者更愿意选择确定的事（他们是风险规避者）；当结果都是负面的时候，他们更愿意拒绝确定的事，愿意赌一把（他们会冒险）。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;如果丢票的人要问我的意见的话，我会说：“如果你丢了同等价值的钱，你还会再买票吗？如果会，就请再去买票吧。“广泛的框架和包括情况多的账户往往会导致更理性的决策。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第35章-体验效用与决策效用的不一致&quot;&gt;第35章 体验效用与决策效用的不一致&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;峰终定律，指我们对一件事物的记忆仅限于高峰和结尾，事件过程对记忆几乎没有影响。高峰之后，终点出现&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;看电影是不是也只记住高潮和结尾&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;出现得越迅速，这件事留给我们的印象越深刻。作者因这个认知获得诺贝尔奖。——&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;第36章-人生如戏&quot;&gt;第36章 人生如戏&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;故事所关注的应该是其中有意义的事件和值得珍藏的时刻，而不是时间的流逝。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;结语&quot;&gt;结语&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;记忆自我与经验自我相抗争的可能性问题比我最初想象的更加复杂。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;若某件事的结局不好，即使其过程是长期且快乐的，我们也会忽略掉。&lt;br /&gt;
我们不应该忘记，记忆自我的观点不总是正确的。一个测量快乐的客观观察者会更注重经验自我，会提供不同的建议。记忆自我对过程的忽略、对峰终和结局的重要性的夸大，以及对后见之明的怀疑共同作用，歪曲地反映着我们真实的体验。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;判断某个人是否理性的唯一标准并非是看这个人的信念或是偏好是否合理，而是看它们是否一致。一个理性的人可以相信鬼，只要他的其他信念也与世界上有鬼存在这个信念相一致。&lt;br /&gt;
理性指的是逻辑上的一致，即合理与否。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;附录a-不确定性下的判断启发法和偏见&quot;&gt;附录A 不确定性下的判断：启发法和偏见&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;甄选面谈的出错率很高，但即使心理学家知道这一点，在甄选面谈时，他们还是常会在预测中表现出很大的自信。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;附录b-选择价值以及框架&quot;&gt;附录B 选择、价值以及框架&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;可以不用歪曲或隐藏事实，只构架事件发生的结果和可能性就能左右&lt;br /&gt;
病人或总统的决策。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;相比将5美元看做损失，将这5美元当做支付的钱，使得冒这个险更加容易令人接受。&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        <pubDate>Tue, 12 Nov 2024 00:00:00 -0600</pubDate>
        <link>https://wangxuan.me/notes/2024/11/12/Think-Fast-and-Slow.html</link>
        <guid isPermaLink="true">https://wangxuan.me/notes/2024/11/12/Think-Fast-and-Slow.html</guid>
        
        <category>思考，快与慢</category>
        
        
        <category>Notes</category>
        
      </item>
    
      <item>
        <title>主动投资组合管理</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;马科维茨的伟大，在于他提出选择投资组合的目标是达到“有效组合”，也就是构建在给定的风险下获取最大预期收益的组合。不同风险下的有效投资组合形成所谓的“有效前沿”。最终的选择，可以通过求解不同风险厌恶水平下的“效用函数”最大化问题来得到。&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;译者序&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;p&gt;这句话，简直了，不太像人话…&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;在主动管理中，更高的残差收益率、更低的残差风险是必然的偏好。我们采用均值/方差的方式来体现这一点，即用残差收益率减去一个残差风险的二次惩罚项（残差方差的线性惩罚项）。我们称之为“风险调整预期收益率”（risk-adjusted expected return）或“附加值”（value-added）。我们可以用无差异曲线来描述偏好。不同的均值/方差组合，只要它们的附加值相同，我们对它们的偏好就没有差异。每一条无差异曲线都包含一个具有零残差风险的特殊组合，其残差收益率被称为“确定性等价”残差收益率。&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;第1章 绪论&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;由于采用了相对的视角，我们会集中于收益率的一个组成部分——残差收益率（residual return），也就是资产收益率中与业绩基准收益率不相关的部分。
信息率（informationratio，IR）是残差收益率的年化预期值与其年化波动率之比。信息率定义了主动投资经理可选的投资机会的集合。信息率越高，主动管理的空间越大。&lt;br /&gt;
&lt;strong&gt;信息率衡量了主动管理的机会集，它的平方决定了我们产生附加值的能力，信息率越高越好&lt;/strong&gt;。那么，从哪里寻找更高的信息率呢？投资机会集有哪些来源？根据主动管理基本定律，有两个来源。第一个就是我们预测每只资产残差收益率的能力。我们用信息系数（information coefficient，IC）来衡量这种能力，它是收益率的预测值和实现值之间的相关系数。信息系数是衡量我们预测能力的一个度量。&lt;br /&gt;
第二个产生高信息率的来源是广度（breadth，BR），即每年我们能够应用上述预测能力的次数。如果能力水平相同，那么能够预测1000只股票的收益理应好于预测100只。基本定律告诉我们，信息率正比于我们的预测能力和预测广度的平方根：$IR=IC·\sqrt{BR}$。这种观念不仅帮助我们理解理论本身，还能指导我们合理地设计研究策略。&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;第1章 绪论&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;传统的资产估值和收益率预测方法更加实用。最经典的就是分红折现模型（dividend discount model），它把净现值的想法应用于估值问题之上。&lt;br /&gt;
还有其他结构化的估值和收益率预测方法。一种方法是找出过去表现出色的资产的共同特征，进而找出那些将要表现出色的资产。另一种方法试图运用比较估值法来找出具有相同因子暴露但市场定价却不同的资产。一旦找到，意味着套利机会的出现。还有一种方法是去预测那些由市场定价的因子的收益率。&lt;br /&gt;
主动管理即预测。没有预测，基金经理将采用被动投资——持有业绩基准组合。在本书的论述中，预测是指将资产收益率的原始预测信号转化为精炼预测的过程。这种信息处理在主动管理中至关重要。它的基本想法就是预测基本定律：$阿尔法（alpha）=波动率·IC·标准分值$，它是我们将一个标准化的（均值为0，标准差为1）分值转化为一个对残差收益率的预测值（阿尔法）的基本方程。方程中，波动率（volatility）是残差波动率，IC是信息系数——标准分值和收益率实现值的相关系数。信息处理过程以原始信号为输入，首先将它转化为标准分值，然后依次乘以信息系数和波动率，产生最终的阿尔法。&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;第1章 绪论&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;CAPM不是预测预期收益的唯一方法，但应该说它是最好的方法&lt;/strong&gt;。就像本章稍后一节将论证的那样，CAPM自从被提出以来，经受住了学术界和实践界无数严格测试的考验。&lt;strong&gt;一种预测预期收益率的替代方法是用历史平均收益率，即股票在之前某段历史上的平均收益率&lt;/strong&gt;。这不是一个好主意，它有两个主要问题。第一，历史收益率包含了大量的样本误差（如果用已知年化标准差为σ的平稳随机过程生成一列收益率，那么以这列收益率为样本估计出的年化收益率的标准误将是这里Y是指数据（那一列收益率）长度是Y年。不论我们观察的是每日、月度、季度或年度的收益率，结论都是一样的。由于股票年化波动率的典型数值大约是35%，所以即使我们有5年的观测数据，估计误差依然有大约16%！）。第二，股票样本空间随时间变化：新股票不断出现，老股票逐渐消失或合并。股票本身随时间变化：盈利会变，资本结构会变，股票波动率也会变。历史平均是CAPM一致预测的一种糟糕的替代方案。&lt;br /&gt;
&lt;strong&gt;第二种提供预期收益率的替代方法是套利定价理论（arbitrage pricing theory，APT）&lt;/strong&gt;。我们将在第7章讨论APT。我们发现APT是主动投资经理的一个有效工具，但它不能作为一致预期收益率的来源。&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;第2章 一致预期收益率：资本资产定价模型&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;CAPM基于两个构想：第一个构想是市场组合M，第二个是将任何个股或组合与市场联系起来的贝塔系数（beta coefficient）的概念。理论上讲，市场组合应该包括所有资产：英国的股票、日本的债券、马来西亚的种植园等。在投资实践中，市场组合通常取作某个具有广泛覆盖面的、价值加权的国内股票指数，例如美国的纽交所综合指数（NYSE Composite）、英国的金融时报指数（FTA）或是日本的东证股价指数（TOPIX）。&lt;br /&gt;
让我们考虑任意一个组合P，记组合P的超额收益率（excess return）为$r_P$，市场组合M的超额收益率为$r_M$。超额收益率是收益率减去同期无风险资产的收益率。我们定义组合P的贝塔为：&lt;br /&gt;
\(\beta_P = \frac{Cov(r_P,r_M)}{Var(r_M)}\)&lt;br /&gt;
贝塔正比于组合收益率与市场收益率之间的协方差。它是对未来的一个预测。值得注意的是，市场组合的贝塔值等于1，无风险资产的贝塔值等于0。&lt;br /&gt;
贝塔使我们能够将任意组合的超额收益率分解为两个不相关的部分，一个是市场部分，另一个是残差部分。&lt;br /&gt;
–&lt;br /&gt;
CAPM与有效市场理论虽不相同，但却是一致的。有效市场理论有三种强度：弱有效、半强有效和强有效。弱有效形式认为：只使用历史价格和成交量数据不能战胜市场。半强有效形式认为：只使用公开信息（历史价格、基本面信息、分析师的公开评级等）不能战胜市场。强有效形式认为：投资者无论如何都不能战胜市场（即市场价格包含了一切相关信息）。&lt;br /&gt;
CAPM同样认为投资者不能战胜市场，但从一个略微不同的角度。对任何一位持有非市场组合的投资者A，必然存在（至少在等效意义下）与A对称的另一位投资者B，B持有的组合相对于市场的偏离恰好与A的相反。因此，只要不存在“更傻的傻瓜”，我们就不应该预期A与B中的任何一人能够战胜市场。有效市场理论认为不存在“更傻的傻瓜”是由于它认为市场价格反映了一切有用的信息。&lt;br /&gt;
将收益率和风险分解为市场部分和残差部分的能力依赖于我们预测贝塔的能力。CAPM进一步认为任何股票（从而任何投资组合）的预期残差收益率为零。&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;第2章 一致预期收益率：资本资产定价模型&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;blockquote&gt;
  &lt;p&gt;在1992年12月，股票西尔斯（Sears）关于标普500指数的贝塔预测值为1.05。如果标普500指数最终实现的收益率比国库券低5%，那么西尔斯的预期超额收益率是多少？&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;在资本资产定价模型（CAPM）中，一个资产的预期收益率可以通过以下公式计算：&lt;/p&gt;

\[\text{预期收益率} = \text{无风险收益率} + \beta \times (\text{市场收益率} - \text{无风险收益率})\]

&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;$\beta$ 是资产相对于市场的波动性或风险系数。&lt;/li&gt;
  &lt;li&gt;$\text{市场收益率}$ 是市场投资组合的预期收益率。&lt;/li&gt;
  &lt;li&gt;$\text{无风险收益率}$ 是无风险资产（如国库券）的收益率。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;根据题目，如果标普500指数的收益率比国库券低5%，我们可以将市场收益率表示为：&lt;/p&gt;

&lt;p&gt;$ \text{市场收益率} = \text{无风险收益率} - 0.05 $&lt;/p&gt;

&lt;p&gt;将 $\beta = 1.05$ 和市场收益率的关系代入CAPM公式，我们可以计算出西尔斯的预期收益率：&lt;/p&gt;

&lt;p&gt;$ \text{预期收益率} = \text{无风险收益率} + 1.05 \times (\text{无风险收益率} - 0.05 - \text{无风险收益率}) $&lt;br /&gt;
$ \text{预期收益率} = \text{无风险收益率} + 1.05 \times (-0.05) $&lt;br /&gt;
$ \text{预期收益率} = \text{无风险收益率} - 0.0525 $&lt;/p&gt;

&lt;p&gt;西尔斯的预期超额收益率是：&lt;/p&gt;

&lt;p&gt;$ \text{预期超额收益率} = \text{预期收益率} - \text{无风险收益率} $
$ \text{预期超额收益率} = (-0.0525) $
$ \text{预期超额收益率} = -0.0525 $&lt;/p&gt;

&lt;p&gt;西尔斯的预期超额收益率是 -0.0525 或 -5.25%。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;如果标普500指数的长期预期年化超额收益率为7%，那么西尔斯的预期超额收益率是多少？&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;根据资本资产定价模型（CAPM），一个资产的预期超额收益率可以表示为：&lt;/p&gt;

&lt;p&gt;$ \text{预期超额收益率} = \beta \times \text{市场超额收益率} $&lt;/p&gt;

&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;$\beta$ 是资产相对于市场的波动性或风险系数。&lt;/li&gt;
  &lt;li&gt;$\text{市场超额收益率}$ 是市场投资组合的预期超额收益率。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;题目中提到标普500指数的长期预期年化超额收益率为7%，西尔斯的贝塔值（$\beta$）为1.05。因此，我们可以计算出西尔斯的预期超额收益率：&lt;/p&gt;

&lt;p&gt;$ \text{西尔斯的预期超额收益率} = 1.05 \times 0.07 $&lt;br /&gt;
$ \text{西尔斯的预期超额收益率} = 0.0735 $&lt;/p&gt;

&lt;p&gt;西尔斯的预期超额收益率是 $0.0735$ 或 $7.35\%$。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;假设不同股票的残差收益率之间不相关。股票A的贝塔值为1.15，波动率为35%；股票B的贝塔值为0.95，波动率为33%。如果市场波动率为20%，那么股票A与股票B之间的相关性是多少？哪只股票具有更高的残差波动率？&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;在资本资产定价模型（CAPM）中，股票的总风险由系统性风险（市场风险）和非系统性风险（残差风险或特定风险）组成。贝塔值（$\beta$）衡量的是系统性风险，而残差波动率（$\sigma_e$）衡量的是非系统性风险。&lt;/p&gt;

&lt;p&gt;股票A和股票B的残差波动率可以通过以下公式计算：&lt;/p&gt;

&lt;p&gt;$ \sigma_A^2 = \text{总波动率}^2 - \beta_A^2 \times \text{市场波动率}^2 $&lt;br /&gt;
$ \sigma_B^2 = \text{总波动率}^2 - \beta_B^2 \times \text{市场波动率}^2 $&lt;/p&gt;

&lt;p&gt;其中，$\sigma_A^2$ 和 $\sigma_B^2$ 分别是股票A和股票B的残差波动率，总波动率是股票自身的波动率。&lt;/p&gt;

&lt;p&gt;首先，我们计算股票A和股票B的残差波动率：&lt;/p&gt;

&lt;p&gt;$ \sigma_{Ae}^2 = 0.35^2 - 1.15^2 \times 0.20^2 $&lt;br /&gt;
$ \sigma_{Be}^2 = 0.33^2 - 0.95^2 \times 0.20^2 $&lt;br /&gt;
$ \sigma_{Ae}^2 = 0.0696 $&lt;br /&gt;
$ \sigma_{Be}^2 = 0.0728 $&lt;/p&gt;

&lt;p&gt;接着，我们计算残差收益率的相关性。由于不同股票的残差收益率之间不相关，所以股票A与股票B之间的残差收益率相关性为0。&lt;/p&gt;

&lt;p&gt;最后，我们比较残差波动率：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;股票A的残差波动率为 $\sqrt{0.0696}$&lt;/li&gt;
  &lt;li&gt;股票B的残差波动率为 $\sqrt{0.0728}$&lt;br /&gt;
$ \sigma_{Ae} = 0.2638 $&lt;br /&gt;
$ \sigma_{Be} = 0.2698 $&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;股票A与股票B之间的残差收益率相关性是 $0$。具有更高残差波动率的股票是股票B，其残差波动率为 $0.2698$ 或 $26.98\%$。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;怎样的一列预期收益率将使我们100%投资于GE这只股票？&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;要确定使投资者100%投资于通用电气（GE）股票的预期收益率，我们需要考虑投资者的风险偏好和市场条件。以下是一些关键因素和步骤：&lt;/p&gt;

&lt;h3 id=&quot;1-确定ge的预期收益率&quot;&gt;1. 确定GE的预期收益率&lt;/h3&gt;
&lt;p&gt;首先，我们需要知道GE股票的预期收益率。这通常基于历史数据、财务分析、市场情绪和其他经济指标来预测。&lt;/p&gt;

&lt;h3 id=&quot;2-考虑无风险收益率&quot;&gt;2. 考虑无风险收益率&lt;/h3&gt;
&lt;p&gt;无风险收益率通常是指政府债券的收益率，这是一个基准，投资者可以无风险地获得这个收益率。&lt;/p&gt;

&lt;h3 id=&quot;3-使用资本资产定价模型capm&quot;&gt;3. 使用资本资产定价模型（CAPM）&lt;/h3&gt;
&lt;p&gt;CAPM模型可以帮助我们理解预期收益率与风险之间的关系。CAPM模型的公式是：
\(E(R_i) = R_f + \beta_i \times (E(R_m) - R_f)\)
其中：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;$ E(R_i) $ 是资产 $ i $ 的预期收益率。&lt;/li&gt;
  &lt;li&gt;$ R_f $ 是无风险收益率。&lt;/li&gt;
  &lt;li&gt;$ \beta_i $ 是资产 $ i $ 的贝塔系数，表示其相对于市场的风险。&lt;/li&gt;
  &lt;li&gt;$ E(R_m) $ 是市场的预期收益率。&lt;/li&gt;
  &lt;li&gt;$ (E(R_m) - R_f) $ 是市场风险溢价。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;4-计算ge的预期收益率&quot;&gt;4. 计算GE的预期收益率&lt;/h3&gt;
&lt;p&gt;如果我们要使投资者100%投资于GE，我们需要确保GE的预期收益率至少与市场提供的收益率相当，或者更高。这意味着GE的预期收益率应该至少等于市场预期收益率加上GE的风险溢价。&lt;/p&gt;

&lt;h3 id=&quot;5-考虑投资者的风险偏好&quot;&gt;5. 考虑投资者的风险偏好&lt;/h3&gt;
&lt;p&gt;如果投资者是风险厌恶的，他们可能需要更高的预期收益率来补偿持有单一股票的风险。如果投资者是风险中性或风险偏好的，他们可能愿意接受较低的预期收益率。&lt;/p&gt;

&lt;h3 id=&quot;6-调整预期收益率&quot;&gt;6. 调整预期收益率&lt;/h3&gt;
&lt;p&gt;如果GE的当前预期收益率低于市场收益率，公司可能需要采取措施提高其股票的吸引力，如提高盈利能力、增加分红或改善公司治理。&lt;/p&gt;

&lt;h3 id=&quot;7-考虑其他投资机会&quot;&gt;7. 考虑其他投资机会&lt;/h3&gt;
&lt;p&gt;投资者可能会比较GE的预期收益率与其他投资机会，如其他股票、债券或房地产。如果GE的预期收益率不能竞争，投资者可能会选择其他投资。&lt;/p&gt;

&lt;h3 id=&quot;结论&quot;&gt;结论&lt;/h3&gt;
&lt;p&gt;要使投资者100%投资于GE，GE的预期收益率需要足够高，以吸引投资者从其他投资机会转向GE。这通常意味着GE的预期收益率应该至少等于或高于市场提供的收益率，同时考虑到投资者的风险偏好和市场条件。&lt;/p&gt;

&lt;p&gt;如果需要具体的数字计算，我们需要GE的贝塔系数、当前的无风险收益率、市场的预期收益率等数据。这些数据可以通过财务分析软件、市场研究报告或咨询财务顾问获得。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;根据CAPM，主动投资经理的预期残差收益率是多少？&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;在资本资产定价模型（CAPM）中，主动投资管理者的预期残差收益率（也称为阿尔法，$\alpha$）是指投资组合的实际收益率与根据CAPM模型预期的收益率之间的差额。CAPM模型的公式是：&lt;/p&gt;

&lt;p&gt;$ E(R_i) = R_f + \beta_i \times (E(R_m) - R_f) $&lt;/p&gt;

&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;$ E(R_i) $ 是资产 $ i $ 的预期收益率。&lt;/li&gt;
  &lt;li&gt;$ R_f $ 是无风险收益率。&lt;/li&gt;
  &lt;li&gt;$ \beta_i $ 是资产 $ i $ 的贝塔系数，表示其相对于市场的风险。&lt;/li&gt;
  &lt;li&gt;$ E(R_m) $ 是市场的预期收益率。&lt;/li&gt;
  &lt;li&gt;$ (E(R_m) - R_f) $ 是市场风险溢价。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;在CAPM框架下，一个主动投资管理者的预期残差收益率（$\alpha$）可以通过以下公式表示：&lt;/p&gt;

&lt;p&gt;$ E(R_p) = E(R_i) - [R_f + \beta_i \times (E(R_m) - R_f)] $&lt;/p&gt;

&lt;p&gt;或者简化为：&lt;/p&gt;

&lt;p&gt;$ \alpha = E(R_p) - (R_f + \beta \times (E(R_m) - R_f)) $&lt;/p&gt;

&lt;p&gt;这里的 $ E(R_p) $ 是投资组合的实际预期收益率。&lt;/p&gt;

&lt;h3 id=&quot;预期残差收益率阿尔法的解释&quot;&gt;预期残差收益率（阿尔法）的解释：&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;如果 $\alpha$ 大于0，表示投资组合的预期收益率超过了CAPM模型预测的收益率，这意味着主动投资管理者通过选股或市场时机选择等方式实现了超额收益。&lt;/li&gt;
  &lt;li&gt;如果 $\alpha$ 等于0，表示投资组合的预期收益率正好符合CAPM模型的预测，即市场收益。&lt;/li&gt;
  &lt;li&gt;如果 $\alpha$ 小于0，表示投资组合的预期收益率低于CAPM模型的预测，这可能意味着投资策略不够有效或市场条件不利。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;实际计算&quot;&gt;实际计算：&lt;/h3&gt;
&lt;p&gt;要计算具体的 $\alpha$，我们需要知道以下数据：&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;投资组合的实际预期收益率 $ E(R_p) $。&lt;/li&gt;
  &lt;li&gt;无风险收益率 $ R_f $。&lt;/li&gt;
  &lt;li&gt;投资组合的贝塔系数 $ \beta $。&lt;/li&gt;
  &lt;li&gt;市场的预期收益率 $ E(R_m) $。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这些数据通常可以通过市场研究、历史数据和财务模型获得。如果一个主动投资管理者声称能够实现正的阿尔法，他们需要展示他们的投资策略如何能够系统地产生超过CAPM模型预测的收益。&lt;/p&gt;

&lt;hr /&gt;

&lt;blockquote&gt;
  &lt;p&gt;最特殊的特征组合包括组合C（最小方差组合）和组合Q（最高夏普率组合，夏普率即为Sharpe ratio，SR）。有效前沿描述了一组特征组合，它们是每个可达到的预期收益率水平下的最小方差组合。利用特征组合的概念，我们可以把CAPM的结论简单表述为“组合Q就是市场组合”。&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;第2章 一致预期收益率：资本资产定价模型&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;数学记号&quot;&gt;数学记号&lt;/h2&gt;
&lt;p&gt;为使表达更清晰，我们约定用普通字体代表标量，用粗体小写代表向量，用粗体大写代表矩阵。&lt;br /&gt;
h——风险资产头寸的权重（列向量），即组合在每只风险资产上的投资权重（百分比）；&lt;br /&gt;
f——预期超额收益率（列向量）；&lt;br /&gt;
μ——CAPM下的预期超额收益率（列向量），当CAPM成立时有f=μ；&lt;br /&gt;
V——风险资产超额收益率之间的协方差矩阵（假设非奇异）；&lt;br /&gt;
β——资产的贝塔值（列向量）；&lt;br /&gt;
e——全1向量（每个元素均为1）；&lt;/p&gt;

&lt;p&gt;我们将“风险”定义为超额收益率的年化标准差。&lt;/p&gt;
&lt;h2 id=&quot;假设&quot;&gt;假设&lt;/h2&gt;
&lt;p&gt;我们考虑单一投资期，投资期内不进行组合再平衡操作。基础假设是：&lt;br /&gt;
A1存在一个无风险资产；&lt;br /&gt;
A2所有一阶和二阶矩均存在；&lt;br /&gt;
A3不存在零风险的全额投资组合；&lt;br /&gt;
A4组合C（最小方差的全额投资组合）的预期超额收益率是严格正值。&lt;/p&gt;

&lt;p&gt;我们主要在典型的投资期长度内讨论问题，因此在短期内应该存在一只具有确定收益率的投资工具（例如美国国库券）。在稍后的章节中，我们可能会放松假设A4，即最小方差的全额投资组合具有严格正的预期超额收益率。虽然A4在典型的经济实体中肯定是成立的，但它对很多章节技术附录中的结果而言不是完全必要的。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;特征组合&lt;br /&gt;
资产拥有许多属性，例如贝塔、预期收益率、盈市率（earnings-to-priceratio，EP）、市值、所属经济板块，等等。在本附录中，我们将把每种属性和一个特征组合关联起来。&lt;br /&gt;
特征组合可以充分并且唯一地代表定义它的属性（attribute）。&lt;strong&gt;特征组合的机制使我们能够通过计算一个组合与特征组合的协方差，来确定该组合对相应属性的暴露度（exposure）&lt;/strong&gt;。&lt;br /&gt;
这个过程是可逆的。我们可以从一个组合开始，找到以它为特征组合的那个属性。&lt;br /&gt;
换言之，这个特征组合能够最有效地表达该属性。一旦我们建立了属性和组合之间的一一对应关系，CAPM就变为一个关于属性“预期超额收益率”的特征组合的经济命题。&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;第2章 一致预期收益率：资本资产定价模型&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;资本资产定价模型&lt;br /&gt;
我们可以通过两个步骤建立CAPM。我们已经完成了步骤1，就是式（2A-36）：
\(f=f_Q(\frac{Vh_Q}{\sigma_Q^2})=f_Q\beta_{关于组合Q}\)
它的含义是资产预期超额收益率向量与资产关于组合Q的贝塔值向量成比例。在步骤2中，我们将证明在某些假设下，我们可以推出“组合Q就是市场组合M”这个结论。这个结论意味着市场组合M确实是具有最高夏普率（预期超额收益率与风险的比值）的全额投资组合。&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;第2章 一致预期收益率：资本资产定价模型&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;
&lt;blockquote&gt;
  &lt;p&gt;为了简化计算，在这个应用练习中，我们只考虑主要市场指数（MMI）中的资产。MMI是一个由20只股票价格加权构成的指数（你可以认为它是由每只股票各100股构成的一个组合）。同时，定义市值加权主要市场指数（或简称为CAPMMI）为市场组合。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;1.现在只考虑MMI中的股票，请构建最小方差全额投资组合（组合C）。每只成分股对该组合的贝塔是多少？&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;要构建最小方差全额投资组合（也称为组合C），我们需要遵循以下步骤：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;确定每只股票的权重&lt;/strong&gt;：
最小方差组合是通过最小化组合的总方差来实现的，这通常涉及到解决一个优化问题，其中组合中每只股票的权重与股票的方差和协方差有关。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;计算每只股票的贝塔&lt;/strong&gt;：
每只股票的贝塔是该股票收益与市场收益之间协方差的度量，相对于市场收益的方差。数学上，股票 $i$ 的贝塔 $\beta_i$ 由下式给出：
$
\beta_i = \frac{\text{Cov}(R_i, R_m)}{\text{Var}(R_m)}
$
其中：&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;$\text{Cov}(R_i, R_m)$ 是股票 $i$ 的收益与市场收益之间的协方差。&lt;/li&gt;
      &lt;li&gt;$\text{Var}(R_m)$ 是市场收益的方差。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;由于我们只考虑MMI中的股票，并且MMI是一个由20只股票价格加权构成的指数，我们可以假设每只股票在MMI中的权重与其在市场组合中的市值成比例。在这种情况下，每只股票的贝塔可以通过以下方式计算：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;计算市场组合的方差&lt;/strong&gt;：
$
\text{Var}(R_m) = \sum_{i=1}^{20} w_i^2 \sigma_i^2 + 2 \sum_{1 \leq i &amp;lt; j \leq 20} w_i w_j \text{Cov}(R_i, R_j)
$
其中：
    &lt;ul&gt;
      &lt;li&gt;$w_i$ 是股票 $i$ 在市场组合中的权重。&lt;/li&gt;
      &lt;li&gt;$\sigma_i^2$ 是股票 $i$ 的方差。&lt;/li&gt;
      &lt;li&gt;$\text{Cov}(R_i, R_j)$ 是股票 $i$ 和股票 $j$ 之间的协方差。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;计算每只股票的协方差&lt;/strong&gt;：
$
\text{Cov}(R_i, R_m) = w_i \sigma_i^2 + \sum_{j \neq i} w_i w_j \text{Cov}(R_i, R_j)
$&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;计算每只股票的贝塔&lt;/strong&gt;：
$
\beta_i = \frac{\text{Cov}(R_i, R_m)}{\text{Var}(R_m)}
$&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;由于我们没有具体的股票收益数据、方差和协方差，我们无法计算出确切的数值。然而，如果我们假设MMI是一个有效的市场组合，那么每只股票的贝塔将等于1，因为市场组合中的股票的贝塔总是1。&lt;/p&gt;

&lt;p&gt;因此，每只成分股对最小方差组合的贝塔是 $\boxed{1}$。&lt;/p&gt;

&lt;hr /&gt;

&lt;blockquote&gt;
  &lt;p&gt;在CAPM预期超额收益率（正比于每只资产关于CAPMMI的贝塔，并且假设CAPMMI的预期超额收益率为6%）的基础上，请构建一个全额投资的有效组合。其中风险厌恶系数取λ=6/σ2市场，σ2市场描述了CAPMMI的风险。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;a）该组合的贝塔和预期超额收益率是多少？&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;b）将该组合与由式（2A-45）描述的组合C和组合Q的线性组合作比较。在本题中，组合Q是CAPMMI&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;要解决这个问题，我们需要理解资本资产定价模型（CAPM）和有效前沿的概念。让我们一步一步分解。&lt;/p&gt;

&lt;h3 id=&quot;a-构建全额投资的有效组合&quot;&gt;a) 构建全额投资的有效组合&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;CAPM预期超额收益率&lt;/strong&gt;：&lt;br /&gt;
根据CAPM，资产 $i$ 的预期超额收益率由下式给出：&lt;br /&gt;
$
E(R_i) - R_f = \beta_i \times (E(R_m) - R_f)
$&lt;/p&gt;

    &lt;p&gt;其中 $E(R_m) - R_f$ 是市场的预期超额收益率。&lt;/p&gt;

    &lt;p&gt;给定 $E(R_m) - R_f = 6\%$，资产 $i$ 的预期超额收益率为：
$
E(R_i) - R_f = \beta_i \times 0.06
$&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;风险厌恶系数&lt;/strong&gt;：&lt;br /&gt;
风险厌恶系数 $\lambda$ 由下式给出：&lt;br /&gt;
$
\lambda = \frac{6}{\sigma_m^2}
$&lt;/p&gt;

    &lt;p&gt;其中 $\sigma_m^2$ 是CAPMMI（市场组合）的方差。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;有效组合的贝塔和预期超额收益率&lt;/strong&gt;：&lt;br /&gt;
全额投资的有效组合将具有等于1的贝塔，因为它是市场组合的复制品。因此，该组合的预期超额收益率为：&lt;br /&gt;
$
E(R_p) - R_f = \beta_p \times (E(R_m) - R_f) = 1 \times 0.06 = 0.06
$&lt;/p&gt;

    &lt;p&gt;所以，该组合的贝塔是 $\boxed{1}$，预期超额收益率是 $\boxed{6\%}$。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;b-与组合c和组合q的比较&quot;&gt;b) 与组合C和组合Q的比较&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;组合C&lt;/strong&gt;：
组合C是最小方差组合，通常由风险最小的资产组成。它的贝塔通常小于1，因为它不是市场组合的复制品。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;组合Q&lt;/strong&gt;：
组合Q是CAPMMI，即市场组合。它的贝塔是1，预期超额收益率是6%。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;线性组合&lt;/strong&gt;：
组合C和组合Q的线性组合可以表示为：&lt;br /&gt;
$
\text{组合} = w_C \times \text{组合C} + w_Q \times \text{组合Q}
$&lt;/p&gt;

    &lt;p&gt;其中 $w_C + w_Q = 1$。&lt;/p&gt;

    &lt;p&gt;这个组合的贝塔是：&lt;br /&gt;
$
\beta = w_C \times \beta_C + w_Q \times \beta_Q
$&lt;/p&gt;

    &lt;p&gt;由于 $\beta_Q = 1$，如果 $\beta_C &amp;lt; 1$，那么 $\beta$ 将取决于权重 $w_C$ 和 $w_Q$。&lt;/p&gt;

    &lt;p&gt;这个组合的预期超额收益率是：&lt;br /&gt;
$
E(R_p) - R_f = w_C \times (\beta_C \times 0.06) + w_Q \times 0.06
$&lt;/p&gt;

    &lt;p&gt;简化后，我们得到：&lt;br /&gt;
$
E(R_p) - R_f = 0.06 \times (w_C \times \beta_C + w_Q)
$&lt;/p&gt;

    &lt;p&gt;由于 $w_C + w_Q = 1$，这进一步简化为：&lt;br /&gt;
$
E(R_p) - R_f = 0.06 \times (\beta_C \times w_C + 1)
$&lt;/p&gt;

    &lt;p&gt;对于全额投资的有效组合，我们有 $w_C = 0$ 和 $w_Q = 1$，所以：&lt;br /&gt;
$
E(R_p) - R_f = 0.06 \times 1 = 0.06
$&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;因此，全额投资的有效组合的贝塔和预期超额收益率与组合Q相同，即CAPMMI。组合C的贝塔和预期超额收益率将低于组合Q，取决于其在组合中的权重。&lt;/p&gt;

&lt;hr /&gt;
&lt;blockquote&gt;
  &lt;p&gt;风险是一个抽象的概念。经济学家认为风险在个人的偏好中体现。一个人认为有风险的东西在另一人眼中可能没什么风险&lt;br /&gt;
&lt;strong&gt;我们需要一个可操作的、普适的和客观的风险定义。&lt;/strong&gt;&lt;br /&gt;
在这样的情况下，我们不可以使用一个受主观偏好影响的风险定义。因此，我们要找的风险度量就是经济学家所谓的对不确定性的度量。我们需要一个对称的风险度量。机构投资经理的业绩是通过与业绩基准或者同行的表现相比较来评判的。对机构基金经理来说，低配一只上涨的股票与超配一只下跌的股票同样痛苦。我们需要一个灵活的风险度量。我们所定义的风险应该既适用于个股，也适用于投资组合；既适用于讨论过去实现的风险，也能够对未来任意时期中的风险进行预测。&lt;br /&gt;
我们会限于寻找一种能够精确预测的风险度量。部分出于这个原因，我们希望这个风险度量可以从资产的风险自下而上地构建出投资组合的风险。我们不仅需要每一只资产的风险，还需要所有可能的投资组合的风险。因此，我们的风险定义必须同时满足以上条件。同时，我们有几种可供挑选的风险定义，这里将逐一讨论。&lt;br /&gt;
首先，所有的风险定义本质上都依赖于收益率的概率分布。概率分布指出了收益率将会有多大的概率落在1%~1.01%，有多大的概率落在1.01%~1.02%等。&lt;br /&gt;
标准差衡量了收益率在均值附近分布范围的宽度。&lt;br /&gt;
&lt;strong&gt;标准差是哈里·马科维茨（Harry Markowitz）对风险的定义，并且之后一直被机构投资界视为风险的标准定义&lt;/strong&gt;。&lt;br /&gt;
对于标准差的批评指出：标准差同时包含了收益率高于和低于均值的情形，而多数投资者认为较低的或者负的收益率才是风险（虽然卖空者持有相反的观点）。这就产生了一种新的风险定义：半方差（semivariance）或下行风险（downside risk）。&lt;br /&gt;
&lt;strong&gt;损失概率（short fall probability）是另一种风险定义，它可能是最接近人们对风险的直观感受的定义&lt;/strong&gt;。损失概率是收益率落在目标值以下的概率。
损失概率具有接近风险直观感受的优点，然而，它面临着与下行风险一样的问题：定义模糊、不为人熟知的统计属性、难于预测以及依赖于投资者的个人偏好等。&lt;br /&gt;
&lt;strong&gt;在险价值（value at risk）是与损失概率类似的一种风险定义&lt;/strong&gt;。损失概率先取定目标损失值，然后计算收益率低于该数值的概率；而在险价值先取定一个目标概率，例如1%或者5%，然后计算与该概率相应的收益率分位数。
在险价值与损失概率关系紧密，并且具有相同的优缺点。
如上所述，能够满足我们普适、对称、灵活和可精确预测要求的风险定义就是收益率的标准差。&lt;br /&gt;
若无特殊说明，我们讨论的风险总是指收益率的年化标准差（以百分之一为单位）。&lt;br /&gt;
标准差具有一些有趣的特点。特别地，它不具有组合属性，也即投资组合的标准差不等于组合中各资产标准差的加权平均值。&lt;strong&gt;整体风险小于部分风险之和——这是投资组合分散化的关键。&lt;/strong&gt;&lt;br /&gt;
相对风险很重要。如果将一位投资经理的业绩与一个业绩基准做比较，那么该经理的投资组合的超额收益率$r_P$与业绩基准的超额收益率$r_B$之间的差异将至关重要。我们称这个差异为主动收益率（active return），记为$r_{PA}$。相应地，我们定义主动风险$ψ_P$为主动收益率的标准差：&lt;br /&gt;
$\psi_P=Std{r_{PA}}=Std{r_P-r_B}$&lt;br /&gt;
除了主动风险，还有一种重要的相对风险度量，即残差风险。残差风险是收益率中与系统性收益率正交的那部分的风险。组合P关于组合B的残差风险用$ω_P$表示，定义为:&lt;br /&gt;
$\omega_P=\sqrt{\sigma_P^2-\beta_P^2\times\sigma_B^2}$
其中&lt;br /&gt;
$\beta_P=\frac{Cov{r_P,r_B}}{Var{r_B}}$&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;第3章 风险&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;建立多因子模型的艺术在于挑选合适的一组因子。寻找因子时只有一个限制条件：所有因子必须都是先验因子（priori factor）。所谓先验因子，是指因子暴露必须在考察期初就能确定。与之相对：因子收益率在考察期初是不确定的，只有到考察期末才能获知。&lt;br /&gt;
我们可以将因子分为三大类：对外部变化的响应、资产属性的横截面比较类因子和纯粹的内在或统计因子。&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;对外部变化的响应&lt;br /&gt;
金融经济学领域的学术文献中流行着一个主题：股票市场和外部经济力量之间应该存在某种可被证实的关联。响应类因子就试图捕获这种关联。这些因子包括对以下外部变化的响应：债券市场收益率（相应因子有时被称为债券贝塔）、通胀异动（unexpected changes ininflation/inflation surprise）、油价变动、汇率变动、工业产量变动，等等。这些因子有时也被称为宏观因子。&lt;strong&gt;响应类因子的解释力可能非常强，但他们有三个严重缺陷&lt;/strong&gt;：&lt;br /&gt;
&lt;strong&gt;第一个缺陷是我们必须通过回归分析或者类似的技术来估计这些响应系数&lt;/strong&gt;。一个包含9种宏观因子覆盖1000只股票的模型每月需要进行1000次时间序列回归；其中每次回归都要用可能是60个月的数据来估计9个响应系数。这可能导致严重的估计误差，通常被称为变量误差问题（error in variables problem）。&lt;br /&gt;
&lt;strong&gt;第二个缺陷是我们的估计通常基于过去5年的历史行为&lt;/strong&gt;。即使能够在统计意义下精确地捕获过去的情况，这些估计值也可能无法精确描述现在的情况。&lt;br /&gt;
&lt;strong&gt;第三个缺陷是宏观数据通常由政府采集而不能在市场中被直接观测到，因此其质量不佳&lt;/strong&gt;。&lt;/li&gt;
    &lt;li&gt;资产属性的横截面比较类因子&lt;br /&gt;
横截面比较类因子比较股票的各种属性，与股票之外的经济没有直接联系。&lt;strong&gt;横截面属性一般可以归为两类：基本面类和市场类。基本面类属性包括各种比率例如分红率（dividend yield）、盈利率（earnings yield）以及分析师对未来每股盈利的预测。市场类属性包括过去某一时段上的波动率、过去某一时段上的收益率、期权的隐含波动率、换手率，等等。市场类属性——例如波动率和动能，某种程度上也存在类似于上一节讨论的外部变化响应类因子的缺陷（如变量误差，非静态性）。&lt;/strong&gt;不过，这里的因子解释有所不同。我们以考察股票价格在过去12个月的表现（收益率）的动能因子为例。该因子并非用来预测股票表现是会持续还是会反转；它只是意识到过去1年表现较好（或较差）的股票在未来的表现经常有共同之处。动能有时会持续，有时会反转，还有时没有任何影响。我们观察到的事实是：每年中有5~6个月，在控制其他属性的条件下，前期表现较好的股票组与前期表现较差的股票组会有显著不同的表现。对历史波动率或是其他该类因子，我们也观察到相似的现象。根据我们的经验，这些横截面比较类因子是非常有效的因子。&lt;/li&gt;
    &lt;li&gt;统计因子&lt;br /&gt;
我们也可以收集大量股票的收益率数据，转动一个统计绞肉器的摇把，然后欣赏这个“因子生成器”（factor ex machina）的作品。能被用作因子生成器的统计工具的数目多得超乎想象，常见的有主成分分析（principal component analysis）、最大似然分析（maximum likelihood analysis）和预期最大化分析（expectations maximization analysis）等。你可以使用两步法来先估计因子收益率然后估计暴露度，或者同时估计因子收益率和暴露度，也可以反过来采用Connor and Korajczyk（1988）中使用过的极具创意的方法。我们通常会避免使用统计因子，因为它们的直观含义难以理解，并且这些因子的估计过程很容易受到“伪相关性”的影响。这些统计工具也不能捕获暴露度随时间变化的因子。统计工具依赖于每只资产对每个因子的暴露度在估计时段内都是恒定的。例如，统计模型不能捕获动能因子。
在众多可选因子中，我们只选用满足以下3条准则的因子：&lt;strong&gt;有区分能力（incisive）、直观（intuitive）和有意义（interesting）&lt;/strong&gt;。&lt;strong&gt;有区分能力的因子能区分出收益率特征显著不同的股票群&lt;/strong&gt;。例如，如果我们沿着波动率的维度观察，将发现低波动率股票的表现每年至少有三次与高波动率股票的表现显著不同。这意味着，如果我们不监控投资组合对波动率因子的暴露度，那么我们的收益率可能会频繁发生异动。&lt;br /&gt;
&lt;strong&gt;直观的因子与市场的某个易于理解的或者公认的维度相关；即具有直观的经济含义或可信的故事&lt;/strong&gt;。例如，规模因子将公司分为大型与小型两种。动能因子将近期表现相对较好的股票与表现相对较差的股票区分开。直观的因子来自于公认的投资主题。美国股票市场中的因子包括各个行业因子，以及规模、分红率、价值、成功、波动率、成长性、杠杆、流动性和汇率敏感性。&lt;br /&gt;
&lt;strong&gt;有意义的因子能够解释股票表现的某些部分&lt;/strong&gt;。我们在每个考察期上将一定的收益率归因于每个因子。这些因子能够帮助我们解释超常收益率或贝塔或波动率。例如，大型公司的股票在某些特殊时期的表现显著优于小型公司的股票。再例如，高波动率股票的贝塔值偏高。&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;我们选用的因子主要是两类：行业因子和风险指数。行业因子衡量不同行业股票之间的行为差异。风险指数衡量行业之外的维度上不同股票群体之间的行为差异。&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;h2 id=&quot;第3章-风险&quot;&gt;第3章 风险&lt;/h2&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;看了几章以后，决定不再细读这本书。因为：公式太多，看起来太费劲，像把公式弄懂需要花费太多时间。这些公式太过学术与死板，可能与我快速有效的目标不符&lt;/em&gt;&lt;/p&gt;
</description>
        <pubDate>Fri, 27 Sep 2024 00:00:00 -0500</pubDate>
        <link>https://wangxuan.me/notes/2024/09/27/Active-Portfolio-Management.html</link>
        <guid isPermaLink="true">https://wangxuan.me/notes/2024/09/27/Active-Portfolio-Management.html</guid>
        
        <category>量化</category>
        
        
        <category>Notes</category>
        
      </item>
    
      <item>
        <title>中国古代刑罚中的夹棍</title>
        <description>&lt;p&gt;这两天在看《叫魂》这本书。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/20240822/s28118682.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;看到萧山县衙审讯有”叫魂”嫌疑的和尚那段的时候，书上说对和尚用了夹棍刑，还配了张图。
&lt;img src=&quot;/assets/images/20240822/cover.jpg&quot; alt=&quot;&quot; /&gt;
这张图后来我在维基百科&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;上看到了出处：出自1881年出版的乔治·亨利·梅森（George Henry Mason）的《中国刑罚》中的铜版画。&lt;/p&gt;

&lt;p&gt;本来配图是为了更好理解这个刑罚，可是，它不配不要紧，配了这张图反倒让我很困惑。你夹腿就夹腿呗，还拿个锤子在哪里敲什么？你这一敲，本来拉紧的绳子不是被撑开了？&lt;/p&gt;

&lt;p&gt;于是拿手机搜了一下，想看看夹棍到底是怎么用的，结果一搜反倒更困惑。&lt;/p&gt;

&lt;p&gt;百度百科&lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;中对夹棍的解释：夹棍，杨木制成，长三尺余，去地五寸多，贯以铁条，每根中各绑拶三副。凡夹人，则直竖其棍，一人扶之，安足其上，急束绳索，仍用棍一具，交足之左，使受刑者不能移动。又用一根长六七尺、围四寸以上的大杠，从右边猛力敲足胫，使足流血洒地。&lt;/p&gt;

&lt;p&gt;百度百科中也有张图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/20240822/3.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这张图很好理解，下面夹腿，上面拉紧绳子就行了。但是这个跟铜版画貌似不是一个东西。而等我找到百度百科中解释的出处的时候，我发现百度百科在误导人。&lt;/p&gt;

&lt;p&gt;据《天人合徵纪实》载此法行刑的详情说：“夹棍，杨木为之，&lt;strong&gt;二根&lt;/strong&gt;长三尺余，去地五寸许贯以铁条，每根中间各绑拶三副。凡夹人，则直竖其棍，一人扶之，安足其中，上急束以绳，仍用棍一具支足之左，使不移动；又用大杠一根，长六七尺，围四寸以上，从右畔猛力敲足胫。”&lt;sup id=&quot;fnref:3&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;注意看这句“二根长三尺余”，百度百科是不是为了能跟图片对上，刻意把“二根”去掉了？&lt;/p&gt;

&lt;p&gt;这个解释跟两张图片都对不上，解释是两跟木棍只夹一条腿（应该是右腿）。另外还有两根，一根支撑，一根敲。&lt;/p&gt;

&lt;p&gt;我很难想象出真实情景是什么样的。&lt;br /&gt;
可能类似这样：
&lt;img src=&quot;/assets/images/20240822/2.png&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
或者这样：&lt;br /&gt;
&lt;img src=&quot;/assets/images/20240822/1.jpeg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;但和文字描述都不太相符。&lt;/p&gt;

&lt;p&gt;维基百科上的解释：&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;虽然都称为夹棍，&lt;strong&gt;明清两代的夹棍刑法在操作记载上有所不同&lt;/strong&gt;。明《诏狱惨言》：“镣，铁为之，即锒铛也。长五六尺，盘左足上，以右足受刑，不便故也；…夹棍，杨木为之。二根长三尺余，去地五寸许，贯以铁条，每根中间各帮拶三副。凡夹人，则直竖其棍，一人扶之，安足其上，急束以绳，仍用棍一具支足之左使不移动。又用大杠一根，长六七尺，围四寸。已上者，从右畔猛力敲足胫。”&lt;strong&gt;从前后文可知，明代至少在诏狱当中的夹棍是只对右脚施刑的，左脚被脚镣约束着。而所谓的敲杠，则是直接以粗大木棍敲击小腿右侧，能导致粉碎性骨折。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;到了清代，就演变成双脚一起在脚踝胫骨突出处受夹，并且有法定的刑具规格，不得任意改动。清朝实施夹棍时的敲，从乔治·亨利·梅森（George Henry Mason）的《中国刑罚》图画中可看出，不再是直接从外敲击胫骨，而是在中梃木当中敲入楔子，从而增加施在脚踝受力点的压力。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;看明白了吧，同样是夹棍刑，明朝和清朝是有区别的。&lt;/p&gt;

&lt;p&gt;明代时用夹棍刑人，为了加重受刑者的痛苦，还采用两种手法，一是敲，即将犯人上了夹棍之后，再敲其胫骨，即如《金瓶梅》第四十八回中提及的“一夹一百敲”，就属此法。二是在刑具与犯人脚踝的接触处放石屑，石屑有尖，“未曾收紧，痛已异常”，这种施刑方法称为“铁膝裤。”&lt;sup id=&quot;fnref:3:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;明代时用夹棍刑可能会另外拿锤子敲，清代可能已经不用锤子了。因为清朝有法定的刑具规格，清《大清律例》：“夹棍中梃木长三尺四寸，两旁木各长三尺，上圆下方，圆头各阔一寸八分，方头各阔二寸，从下量至六寸处凿成圆窝，四个面方各一寸六分，深各七分”。这里对夹棍的长度形态都做了规定，并没有提锤子的事。如果你仔细看乔治·亨利·梅森（George Henry Mason）的《中国刑罚》图画，&lt;strong&gt;会发现图画中的夹棍并不符合法定的规格，《大清律例》中要求上圆下方，中间长两边短。图画中上下都是扁平，中间和两边一样长。&lt;/strong&gt;“在中梃木当中敲入楔子，从而增加施在脚踝受力点的压力”这种说法也说不过去。图中的楔子和捆绳的地方离的很近，怎么看都像是会把绳子撑开。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;综上所述，我有个大胆的想法，我觉得，这张图可能画错了。至于维基百科的那句“增加施在脚踝受力点的压力”，也可能只是对着这张错图强行解释。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;你怎么看，你觉得出自1881年出版的乔治·亨利·梅森（George Henry Mason）的《中国刑罚》中的那张铜版画，有没有问题？欢迎留言讨论。&lt;/p&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;https://zh.wikipedia.org/zh-cn/%E5%A4%B9%E6%A3%8D &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;https://baike.baidu.com/item/%E5%A4%B9%E6%A3%8D &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;https://www.qchdlb.com/news/11962.html &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt; &lt;a href=&quot;#fnref:3:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Thu, 22 Aug 2024 00:00:00 -0500</pubDate>
        <link>https://wangxuan.me/discuss/2024/08/22/chinese-historical-torture-devices-cangue.html</link>
        <guid isPermaLink="true">https://wangxuan.me/discuss/2024/08/22/chinese-historical-torture-devices-cangue.html</guid>
        
        <category>夹棍</category>
        
        
        <category>Discuss</category>
        
      </item>
    
      <item>
        <title>抓娃娃是部好电影吗</title>
        <description>&lt;p&gt;好久没去影院看电影了，前天去影院看了这部《抓娃娃》。至于看完后的感觉，真是有点一言难尽…&lt;/p&gt;

&lt;p&gt;这部电影的情节简单到令人发指，就一句话：一个富翁通过装穷教育儿子。真不知道导演怎么想的，就这玩意拍部电影？这也太稀了。拍个短视频得了，拍成电影也太不值当了。要真这么糊弄事，你都可以拍抓娃娃三部曲，我都替你想好了，第二部就细拍马继业是怎么减肥成功的，炒作儿童肥胖话题，拍成儿童版的《热辣滚烫》，你看，50亿票房稳了；第三部就拍马成钢如何建立商业帝国以及如何把大号练废的，突出一个笑中有泪，既励志又颓废…&lt;/p&gt;

&lt;p&gt;你要说它作为一部喜剧，好笑吗？我也说不出，看的时候确实也笑了，但笑完以后，完全想不起笑点在哪了。最最不能接受的就是结尾，我知道闹剧很难收场但你这么硬收，我看着有多难受你知道吗？&lt;/p&gt;

&lt;p&gt;我甚至觉得人家陆川导演说得挺对…&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/20240722/lc.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;要不是他把这条删了，我都想下载今日头条去给他点个赞。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/20240722/tt.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;虽然电影大部分时间都在搞笑，似乎想避开中国教育这个沉重的话题，但这个问题是房间里的大象，避无可避，每个看电影的人都会被勾起自己对这个问题的看法。&lt;/p&gt;

&lt;h2 id=&quot;在中国你想当皇帝只要生个孩子就行&quot;&gt;在中国，你想当皇帝，只要生个孩子就行&lt;/h2&gt;

&lt;p&gt;我想很多人看电影的时候代入的角色都是马成钢吧，因为代入马继业的都说这是中式恐怖片了。做马成钢的确挺爽的，主要是：有钱，有钱就可以为所欲为。武志红说：在中国，你想当皇帝，只要生个孩子就行，想打就打，想骂就骂。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/20240722/wzh.jpeg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;有钱人生了孩子，那真是为所欲为加倍。就像把大号练废一样，练这个小号也是“养成式”真人RPG，我想让孩子变瘦，他就得变瘦，运用各种方法采取各种手段，不行就氪金摇人…孩子真变瘦了，那满足感，跟获取游戏奖励一模一样。出新手村，领新任务，语文数学音乐书法，一个个拿下，英语也给拿下，至于点错技能点的体育，没事，废掉，不加这个属性。一点一点把这个号养成满级大佬，只为在清北这个大boss前，来个最终一战。&lt;/p&gt;

&lt;p&gt;这满满的控制欲，这顶级的操控感，比玩电脑游戏，可过瘾多了！一个字：爽！
&lt;img src=&quot;/assets/images/meme/shuang.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;做npc我们是专业的&quot;&gt;做NPC，我们是专业的&lt;/h2&gt;

&lt;p&gt;有一个很容易被忽视的群体。就是十几年如一日陪着马成钢一家演戏的员工们。不知道他们是兼职还是全职，马成钢给不给交五险一金，加班有没有加班费，法定节假日上班给不给三倍工资。从马成钢多次给奖金翻倍的操作来看，他也不是个小气的人，而且亲历亲为担任最重要的角色（如果他因为工作忙，请别的演员来演马继业的爸爸妈妈，做戏做全套，感觉这部电影能更牛逼一点），算是个好老板。&lt;/p&gt;

&lt;p&gt;如果有这么一份工作，你心不心动？我倒是挺感兴趣的。从那个中医演技拙劣仍然能获得优秀员工这一点来看，这份工作难度一般。虽然面临，小主人高考结束即失业的问题，但也能享有十几年的稳定期，最重要的是：工作强度不高，甚至可以说是轻松。只要不出现在小主人面前，全是自由时间。&lt;/p&gt;

&lt;p&gt;哪怕小主人高考结束，我们失业了也可以自己单干，只要他考取清北，我们就可以以此作为宣传点，吸引下一个马成钢式的客户。或者，直接说服马成钢把这个套流程包装成产品，成立穷养教育集团。培养一个又一个马继业，我们就可以做NPC，一直做下去，做的越多越专业…&lt;/p&gt;

&lt;h2 id=&quot;我怕我配不上我吃过的苦&quot;&gt;我怕我配不上我吃过的苦&lt;/h2&gt;

&lt;p&gt;这部电影的英文名叫：Successor，继任者、接班人的意思，对应的就是马继业这个名字。所谓从娃娃抓起，其实是马成钢的接班人培养计划。中国人深信：吃得苦中苦，方为人上人。其实这不过是穷苦人的自我安慰，如果人的地位真是由吃苦的多少决定的，那自讨苦吃应该是个好词，比惨才是这个社会攀比的主要方式…&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/meme/bican.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;细想一下，马继业吃了什么苦了？就像马成钢最后说的那样，是饿着他了，还是冻着他了？把海参剁碎了放菜里吃，算什么吃苦？马成钢的同龄人，小时候吃的苦，那才是真苦。马成钢是成功了，是因为吃苦才成功的吗？多半是因为你马成钢运气好而已。吃了比你更多苦，却一无所成的，大有人在。你对那些人说什么？说：你吃了那么多苦，一定很牛逼吧？你是不是想让穷苦一生的人，还满心愧疚：我配不上我所吃过的苦。&lt;/p&gt;

&lt;h2 id=&quot;关于结尾&quot;&gt;关于结尾&lt;/h2&gt;

&lt;p&gt;电影一开始，我们就知道这个精心设计的骗局总有真相大白的一天。关键是揭露真相后如何收尾的问题。坦白说，我不喜欢这个结尾。我不喜欢一直怀疑，一直憋着，最后才放出大招这个设定，尤其当这个大招放得一点也不酣畅淋漓的时候。如果他像“桂林仔”一样，把骗他的人一枪一个,那咱另说…&lt;/p&gt;

&lt;p&gt;我喜欢这样的结尾：不要等马继业长大，小时候就可以了，跟每个演员一一过招，抓住破绽，一一拆穿，让每一个演戏的人无地自容，尴尬又不失礼貌地表达歉意。马成钢换一批，他就拆穿一批，《小鬼当家》知道吧？就按那个套路来。还有，得让马成钢的财富帝国破产，你想想马家印都能破产，何况他马成钢，就让装穷变真穷。我就是喜欢装逼被雷劈的桥段。最后马成钢不得不自己给马继业辅导作业，借鉴下网上那些声嘶力竭鸡飞狗跳的短视频，马成钢气成脑溢血，进入ICU，抢救失败，全剧终。&lt;/p&gt;
</description>
        <pubDate>Mon, 22 Jul 2024 00:00:00 -0500</pubDate>
        <link>https://wangxuan.me/notes/2024/07/22/Is-Successor-a-good-film.html</link>
        <guid isPermaLink="true">https://wangxuan.me/notes/2024/07/22/Is-Successor-a-good-film.html</guid>
        
        <category>抓娃娃</category>
        
        
        <category>Notes</category>
        
      </item>
    
      <item>
        <title>拼拼古诗</title>
        <description>&lt;p&gt;去年(2023年)年底我初学flutter，看了一些文档和教程，想找个东西来练练手。&lt;/p&gt;

&lt;p&gt;小时候看过一个关于历史名人儿时事迹的短片，有一集是讲周总理的，有一个细节我记得很清楚：幼年周恩来经常要做一个游戏–有一堆纸片，每片纸上一个字，他要一个一个字拼起来拼成一首诗。&lt;/p&gt;

&lt;p&gt;很多年前我就想，或许可以把这个游戏做成手机应用。可惜，一直没有动手。恰好可以用flutter来实现这个想法。&lt;/p&gt;

&lt;p&gt;于是找了github上的唐诗三百首做数据源，做了个原始版本。&lt;/p&gt;

&lt;p&gt;一开始它是这样的：&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1C7421K7MH&quot;&gt;https://www.bilibili.com/video/BV1C7421K7MH&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;初始版本的代码在这：
&lt;a href=&quot;https://github.com/stardust1900/poem_puzzle&quot;&gt;https://github.com/stardust1900/poem_puzzle&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;后来，我想，或许我可以把它美化一下，增加小学到高中教科书中的诗句，可以选择年级以便调整难度。于是在github上搜一下，在这个repo&lt;br /&gt;
&lt;a href=&quot;https://github.com/chinese-poetry/huajianji&quot;&gt;https://github.com/chinese-poetry/huajianji&lt;/a&gt;&lt;br /&gt;
找到了我想要的数据。&lt;/p&gt;

&lt;p&gt;然后，又觉得可以再增加一些英文翻译。恰巧，我又搜到了维吉尼亚大学图书馆网站上的唐诗300首&lt;br /&gt;
https://cti.lib.virginia.edu/frame.htm&lt;br /&gt;
于是经过几番调整，现在它变成了这样。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/20240719/p1.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/20240719/p2.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/20240719/p3.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/20240719/p4.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/20240719/p5.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1D7421K7Xg&quot;&gt;https://www.bilibili.com/video/BV1D7421K7Xg&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;曾几何时，我幻想着能把这个应用上架到应用商店。还申请了软著。
&lt;img src=&quot;/assets/images/20240719/p6.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;后来发现，是我天真了… 在这个时代，个人想上架个应用太特么难了。&lt;/p&gt;

&lt;p&gt;唉，算了，算了，开源吧！&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/stardust1900/chinese_poem&quot;&gt;https://github.com/stardust1900/chinese_poem&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Fri, 19 Jul 2024 00:00:00 -0500</pubDate>
        <link>https://wangxuan.me/tech/2024/07/19/chinese-poem.html</link>
        <guid isPermaLink="true">https://wangxuan.me/tech/2024/07/19/chinese-poem.html</guid>
        
        <category>flutter</category>
        
        
        <category>Tech</category>
        
      </item>
    
      <item>
        <title>BigDecimal的精度与刻度</title>
        <description>&lt;p&gt;BigDecimal是Java中用于高精度算术运算的类。当您需要精确地处理非常大或非常小的数字时，例如在金融计算中，它特别有用。由于众所周知得原因，Double这种类型在某些情况下会出现丢失精度的问题，所以在需要对较为敏感的数据(比如与金额有关的)进行运算时，我们都会用BigDecimal。但是，用BigDecimal不代表就一定没问题，我们今天就讨论一下关于BigDecimal的问题。&lt;/p&gt;

&lt;h2 id=&quot;精度与刻度&quot;&gt;精度与刻度&lt;/h2&gt;

&lt;p&gt;要正确使用BigDecimal，首先要清楚精度(precision)和刻度(scale)的概念。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Precision（精度）：表示数值的总位数，包括小数点前后的位数。例如，数值 123.45 的精度是 5，因为它有 5 位数字。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Scale（刻度）：表示小数点后的位数。例如，数值 123.45 的刻度是 2，因为小数点后有 2 位数字。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;举个例子，如果一个数值类型定义为 DECIMAL(7, 2)，那么它的精度是 7，刻度是 2。这意味着这个数值最多可以有 7 位数字，其中 2 位在小数点后，5 位在小数点前。
(p.s. DECIMAL这个数值类型通常是用在数据库中的，JAVA中并没有这个类型。用这个例子是因为它可以最清晰地说明精度与刻度)&lt;/p&gt;

&lt;p&gt;BigDecimal类中也有获取精度和刻度的方法&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;12.1234&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;precision:%s scale:%s&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;precision&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()));&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//输出：precision:6 scale:4&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;除法中的刻度&quot;&gt;除法中的刻度&lt;/h2&gt;

&lt;p&gt;在用BigDecimal做除法运算，使用divide方法的时候，可以指定刻度，也可以不指定。&lt;/p&gt;

&lt;p&gt;当指定刻度，即保留几位小数的时候，需要指定进位模式(RoundingMode)。
可选的模式有UP、DOWN、CEILING、FLOOR、HALF_UP、HALF_DOWN、HALF_EVEN、UNNECESSARY。
JDK api中用一个表格比较了这几种模式的区别&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Result of rounding input to one digit with the given rounding mode&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Input Number&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;UP&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;DOWN&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;CEILING&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;FLOOR&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;HALF_UP&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;HALF_DOWN&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;HALF_EVEN&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;UNNECESSARY&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;5.5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;throw ArithmeticException&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2.5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;throw ArithmeticException&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1.6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;throw ArithmeticException&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1.1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;throw ArithmeticException&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1.1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;throw ArithmeticException&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1.6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;throw ArithmeticException&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2.5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;throw ArithmeticException&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-5.5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;throw ArithmeticException&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;按指定的规则进位，保留几位小数，这没有问题。&lt;/p&gt;

&lt;p&gt;如果不指定刻度呢？&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;8&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;one&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;divide&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//输出 0.125&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;three&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;3&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;one&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;divide&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;three&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;// java.lang.ArithmeticException: Non-terminating decimal expansion; no exact representable decimal result.&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;当结果能除尽的时候正常处理，当除不尽即结果是无限循环小数的时候，程序抛出异常。
看一下源码：&lt;/p&gt;
&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;divide&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;divisor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;cm&quot;&gt;/*
         * Handle zero cases first.
         */&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;divisor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;signum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;// x/0&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;signum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// 0/0&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ArithmeticException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Division undefined&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// NaN&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ArithmeticException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Division by zero&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// Calculate preferred scale&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;preferredScale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;saturateLong&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;scale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;divisor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;signum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 0/y&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;zeroValueOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;preferredScale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;cm&quot;&gt;/*
             * If the quotient this/divisor has a terminating decimal
             * expansion, the expansion can have no more than
             * (a.precision() + ceil(10*b.precision)/3) digits.
             * Therefore, create a MathContext object with this
             * precision and do a divide with the UNNECESSARY rounding
             * mode.
             */&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;MathContext&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MathContext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;precision&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
                                                            &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ceil&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;10.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;divisor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;precision&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()/&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;3.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
                                                            &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;MAX_VALUE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt;
                                              &lt;span class=&quot;nc&quot;&gt;RoundingMode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;UNNECESSARY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quotient&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;quotient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;divide&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;divisor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ArithmeticException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ArithmeticException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Non-terminating decimal expansion; &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
                                              &lt;span class=&quot;s&quot;&gt;&quot;no exact representable decimal result.&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quotientScale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quotient&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

            &lt;span class=&quot;c1&quot;&gt;// divide(BigDecimal, mc) tries to adjust the quotient to&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// the desired one by removing trailing zeros; since the&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// exact divide method does not have an explicit digit&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// limit, we can add zeros too.&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;preferredScale&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quotientScale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quotient&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setScale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;preferredScale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ROUND_UNNECESSARY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quotient&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;MathContext mc = new MathContext( (int)Math.min(this.precision() +(long)Math.ceil(10.0*divisor.precision()/3.0),Integer.MAX_VALUE),RoundingMode.UNNECESSARY);&lt;/p&gt;

&lt;p&gt;这一句算了一个刻度，然后进位方式选了UNNECESSARY。所以当除不尽的时候就抛异常了。&lt;/p&gt;

&lt;p&gt;也就是说它断定，如果一个除法能除尽，它的小数位小于this.precision() +(long)Math.ceil(10.0*divisor.precision()/3.0)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;这句话的意思是，如果 this 除以 divisor 的商是一个有限小数，那么这个小数的位数不会超过以下公式计算的结果：&lt;br /&gt;
$a.precision() + \lceil \frac{10 \cdot b.precision}{3} \rceil$&lt;br /&gt;
其中：&lt;br /&gt;
•  a.precision() 是 this 的精度，即 this 的总位数。&lt;br /&gt;
•  b.precision() 是 divisor 的精度，即 divisor 的总位数。&lt;br /&gt;
•  ceil 是向上取整函数。&lt;br /&gt;
这个公式的作用是估算有限小数的最大位数。具体来说，它考虑了 this 和 divisor 的精度，并通过一个比例关系来确定商的小数位数上限。&lt;br /&gt;
举个例子，如果 this 的精度是 5，divisor 的精度是 3，那么公式计算如下：&lt;br /&gt;
$5 + \lceil \frac{10 \cdot 3}{3} \rceil = 5 + \lceil 10 \rceil = 5 + 10 = 15$&lt;br /&gt;
因此，商的有限小数位数不会超过 15 位。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;插一句啊，这是为什么？&lt;/p&gt;

&lt;p&gt;AI是这样回答的：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;这个公式的提出者并没有明确的记录，但它基于数论中的一些基本原理。证明这个公式需要用到基本算术定理（Fundamental Theorem of Arithmetic），即每个整数都可以唯一地分解为素数的乘积。&lt;br /&gt;
证明思路&lt;/p&gt;
  &lt;ol&gt;
    &lt;li&gt;有限小数的条件：&lt;br /&gt;
一个分数 $\frac{a}{b}$只有在其分母 (b) 仅包含 2 和 5 作为素因子时，才会有一个有限小数。这是因为 10 的唯一素因子是 2 和 5。&lt;/li&gt;
    &lt;li&gt;小数位数的估算：&lt;br /&gt;
假设我们有一个分数 $\frac{a}{b}$，其中 (a) 和 (b) 是整数，并且 (b) 仅包含 2 和 5 作为素因子。我们可以将 (b) 表示为 $(2^m \times 5^n)$，其中 (m) 和 (n) 是非负整数。&lt;/li&gt;
    &lt;li&gt;小数位数的上限：&lt;br /&gt;
为了使分数 $\frac{a}{b}$ 变成一个整数，我们需要将其乘以 $(10^{\max(m, n)})$。因此，有限小数的最大位数可以通过以下公式估算：&lt;br /&gt;
$a.precision + \lceil \frac{10 \cdot b.precision}{3} \rceil$&lt;br /&gt;
其中 (a.precision) 是分子 (a) 的位数，(b.precision) 是分母 (b) 的位数。&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;具体例子&lt;br /&gt;
假设我们有两个数：&lt;br /&gt;
•  this = 12345（精度为 5，因为有 5 位数字）&lt;br /&gt;
•  divisor = 678（精度为 3，因为有 3 位数字）&lt;br /&gt;
我们想知道 12345 除以 678 的商，如果是有限小数，它的小数部分最多有多少位。根据公式：&lt;br /&gt;
$5 + \lceil \frac{10 \cdot 3}{3} \rceil = 5 + \lceil 10 \rceil = 5 + 10 = 15$
因此，12345 除以 678 的商，如果是有限小数，小数部分最多有 15 位。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;额…是数论啊？那我走，打扰了，打扰了…
&lt;img src=&quot;/assets/images/meme/daraole.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;为什么你应该用字符串来构造bigdecimal&quot;&gt;为什么你应该用字符串来构造BigDecimal&lt;/h2&gt;

&lt;p&gt;聪明的你应该早就发现了，BigDecimal的构造方法有很多个。应该用哪个呢？很多人都知道应该用字符串，可是为什么呢？&lt;br /&gt;
因为，当你不用字符串的时候，会用很多意想不到的惊喜。&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strnum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;12.1234&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;precision:%s scale:%s&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strnum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;precision&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strnum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()));&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//输出 precision:6 scale:4&lt;/span&gt;

    &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;12.1234&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;precision:%s scale:%s&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;precision&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()));&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//输出precision:50 scale:48&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;下面一个刻度是48，这是什么鬼？&lt;/p&gt;

&lt;p&gt;再试试除法&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0.1&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;8&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;one&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;divide&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//输出 0.0125&lt;/span&gt;

    &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;divide&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//输出 0.0125000000000000006938893903907228377647697925567626953125&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;为什么会出现这种结果？这个原因众所周知：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;二进制（也称为基数2）不能精确表示某些十进制数，尤其是那些在十进制中有有限小数位但在二进制中需要无限小数位的数。例如，0.1 和 0.2 在二进制中无法精确表示。&lt;br /&gt;
这是因为二进制系统只能使用 0 和 1 来表示数值，而某些十进制数在转换为二进制时会变成无限循环小数。例如：&lt;br /&gt;
•  0.1 在二进制中表示为 0.00011001100110011…（无限循环）&lt;br /&gt;
•  0.2 在二进制中表示为 0.0011001100110011…（无限循环）&lt;br /&gt;
由于计算机的存储空间有限，这些无限循环小数只能被截断，从而导致精度损失。这就是为什么在使用浮点数进行计算时，可能会出现精度问题。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;如果你看源码你会发现 public BigDecimal(double val) 和  public BigDecimal(String val)的实现完全不同。或许你也会想为什么呢？为什么要实现两套不同的呢？你就直接这样：&lt;/p&gt;
&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;BigDecimal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;不就完了？&lt;/p&gt;

&lt;p&gt;至于JDK团队实现两套的原因是什么？你知道吗？欢迎留言告诉我:)&lt;/p&gt;

</description>
        <pubDate>Tue, 16 Jul 2024 00:00:00 -0500</pubDate>
        <link>https://wangxuan.me/tech/2024/07/16/the-precision-and-scale-of-BigDecimal.html</link>
        <guid isPermaLink="true">https://wangxuan.me/tech/2024/07/16/the-precision-and-scale-of-BigDecimal.html</guid>
        
        <category>java</category>
        
        
        <category>Tech</category>
        
      </item>
    
  </channel>
</rss>